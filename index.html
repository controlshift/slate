
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ControlShift Labs API & Webhook Reference</title>
    <link href="images/icon-0e69818e.png" rel="icon" type="image/png" />
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/controlshift-54134136.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-13d0a142.js"></script>

  </head>


<body class="index" data-languages="[]">
<a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
</a>
<div class="toc-wrapper">
  <img src="images/logo-8e1fb5e4.png" class="logo" alt="ControlShift Labs" />
    <div class="search">
      <input type="text" class="search" id="input-search" placeholder="Search">
    </div>
    <ul class="search-results"></ul>
  <ul id="toc" class="toc-list-h1">
      <li>
        <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
      </li>
      <li>
        <a href="#json-api-endpoints" class="toc-h1 toc-link" data-title="JSON API Endpoints">JSON API Endpoints</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#json-api-endpoints-petitions" class="toc-h2 toc-link" data-title="Petitions">Petitions</a>
              </li>
              <li>
                <a href="#json-api-endpoints-categories" class="toc-h2 toc-link" data-title="Categories">Categories</a>
              </li>
              <li>
                <a href="#json-api-endpoints-partnerships" class="toc-h2 toc-link" data-title="Partnerships">Partnerships</a>
              </li>
              <li>
                <a href="#json-api-endpoints-efforts" class="toc-h2 toc-link" data-title="Efforts">Efforts</a>
              </li>
              <li>
                <a href="#json-api-endpoints-calendars" class="toc-h2 toc-link" data-title="Calendars">Calendars</a>
              </li>
              <li>
                <a href="#json-api-endpoints-local-map" class="toc-h2 toc-link" data-title="Local Map">Local Map</a>
              </li>
              <li>
                <a href="#json-api-endpoints-logged-in-user" class="toc-h2 toc-link" data-title="Logged in user">Logged in user</a>
              </li>
              <li>
                <a href="#json-api-endpoints-bulk-data" class="toc-h2 toc-link" data-title="Bulk Data">Bulk Data</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="#webhook-endpoints" class="toc-h1 toc-link" data-title="Webhook Endpoints">Webhook Endpoints</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#webhook-endpoints-bulk-data-what-is-a-webhook" class="toc-h2 toc-link" data-title="What is a Webhook?">What is a Webhook?</a>
              </li>
              <li>
                <a href="#webhook-endpoints-bulk-data-retries" class="toc-h2 toc-link" data-title="Retries">Retries</a>
              </li>
              <li>
                <a href="#webhook-endpoints-bulk-data-security" class="toc-h2 toc-link" data-title="Security">Security</a>
              </li>
              <li>
                <a href="#webhook-endpoints-bulk-data-webhook-hmac-authenticity-signing" class="toc-h2 toc-link" data-title="Webhook HMAC Authenticity Signing">Webhook HMAC Authenticity Signing</a>
              </li>
              <li>
                <a href="#webhook-endpoints-bulk-data-ip-addresses" class="toc-h2 toc-link" data-title="IP Addresses">IP Addresses</a>
              </li>
              <li>
                <a href="#webhook-endpoints-bulk-data-direct-aws-access" class="toc-h2 toc-link" data-title="Direct AWS Access">Direct AWS Access</a>
              </li>
              <li>
                <a href="#webhook-endpoints-designing-a-data-sync" class="toc-h2 toc-link" data-title="Designing a data sync">Designing a data sync</a>
              </li>
              <li>
                <a href="#webhook-endpoints-webhook-types-summary" class="toc-h2 toc-link" data-title="Webhook types summary">Webhook types summary</a>
              </li>
              <li>
                <a href="#webhook-endpoints-blast_email-created" class="toc-h2 toc-link" data-title="blast_email.created">blast_email.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-category-created" class="toc-h2 toc-link" data-title="category.created">category.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-category-updated" class="toc-h2 toc-link" data-title="category.updated">category.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-category-deleted" class="toc-h2 toc-link" data-title="category.deleted">category.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-data-full_table_exported" class="toc-h2 toc-link" data-title="data.full_table_exported">data.full_table_exported</a>
              </li>
              <li>
                <a href="#webhook-endpoints-data-incremental_table_exported" class="toc-h2 toc-link" data-title="data.incremental_table_exported">data.incremental_table_exported</a>
              </li>
              <li>
                <a href="#webhook-endpoints-email-open" class="toc-h2 toc-link" data-title="email.open">email.open</a>
              </li>
              <li>
                <a href="#webhook-endpoints-email-click" class="toc-h2 toc-link" data-title="email.click">email.click</a>
              </li>
              <li>
                <a href="#webhook-endpoints-event-created" class="toc-h2 toc-link" data-title="event.created">event.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-event-created-requires_moderation" class="toc-h2 toc-link" data-title="event.created.requires_moderation">event.created.requires_moderation</a>
              </li>
              <li>
                <a href="#webhook-endpoints-event-mentor_assigned" class="toc-h2 toc-link" data-title="event.mentor_assigned">event.mentor_assigned</a>
              </li>
              <li>
                <a href="#webhook-endpoints-event-mentor_removed" class="toc-h2 toc-link" data-title="event.mentor_removed">event.mentor_removed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-event-updated" class="toc-h2 toc-link" data-title="event.updated">event.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-attendee-created" class="toc-h2 toc-link" data-title="attendee.created">attendee.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-attendee-confirmed" class="toc-h2 toc-link" data-title="attendee.confirmed">attendee.confirmed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-attendee-updated" class="toc-h2 toc-link" data-title="attendee.updated">attendee.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-attendee-deleted" class="toc-h2 toc-link" data-title="attendee.deleted">attendee.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-flag-created" class="toc-h2 toc-link" data-title="flag.created">flag.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-label-applied" class="toc-h2 toc-link" data-title="label.applied">label.applied</a>
              </li>
              <li>
                <a href="#webhook-endpoints-label-removed" class="toc-h2 toc-link" data-title="label.removed">label.removed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-created" class="toc-h2 toc-link" data-title="local_chapter.created">local_chapter.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-last_organiser-deleted" class="toc-h2 toc-link" data-title="local_chapter.last_organiser.deleted">local_chapter.last_organiser.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-mentor_assigned" class="toc-h2 toc-link" data-title="local_chapter.mentor_assigned">local_chapter.mentor_assigned</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-mentor_removed" class="toc-h2 toc-link" data-title="local_chapter.mentor_removed">local_chapter.mentor_removed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-organiser_request-created" class="toc-h2 toc-link" data-title="local_chapter.organiser_request.created">local_chapter.organiser_request.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-organiser_request-approved" class="toc-h2 toc-link" data-title="local_chapter.organiser_request.approved">local_chapter.organiser_request.approved</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-organiser-created" class="toc-h2 toc-link" data-title="local_chapter.organiser.created">local_chapter.organiser.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-member-created" class="toc-h2 toc-link" data-title="local_chapter.member.created">local_chapter.member.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-local_chapter-member-deleted" class="toc-h2 toc-link" data-title="local_chapter.member.deleted">local_chapter.member.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-member-deleted" class="toc-h2 toc-link" data-title="member.deleted">member.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-member-deleted-resources_transferred" class="toc-h2 toc-link" data-title="member.deleted.resources_transferred">member.deleted.resources_transferred</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-ended" class="toc-h2 toc-link" data-title="petition.ended">petition.ended</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-flagged" class="toc-h2 toc-link" data-title="petition.flagged">petition.flagged</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-inappropriate-creator_message" class="toc-h2 toc-link" data-title="petition.inappropriate.creator_message">petition.inappropriate.creator_message</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-mentor_assigned" class="toc-h2 toc-link" data-title="petition.mentor_assigned">petition.mentor_assigned</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-mentor_removed" class="toc-h2 toc-link" data-title="petition.mentor_removed">petition.mentor_removed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-launched" class="toc-h2 toc-link" data-title="petition.launched">petition.launched</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-launched-ham" class="toc-h2 toc-link" data-title="petition.launched.ham">petition.launched.ham</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-launched-requires_moderation" class="toc-h2 toc-link" data-title="petition.launched.requires_moderation">petition.launched.requires_moderation</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-reactivated" class="toc-h2 toc-link" data-title="petition.reactivated">petition.reactivated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-start-help_requested" class="toc-h2 toc-link" data-title="petition.start.help_requested">petition.start.help_requested</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-updated" class="toc-h2 toc-link" data-title="petition.updated">petition.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-updated-requires_moderation" class="toc-h2 toc-link" data-title="petition.updated.requires_moderation">petition.updated.requires_moderation</a>
              </li>
              <li>
                <a href="#webhook-endpoints-petition-target-response" class="toc-h2 toc-link" data-title="petition.target.response">petition.target.response</a>
              </li>
              <li>
                <a href="#webhook-endpoints-user-created" class="toc-h2 toc-link" data-title="user.created">user.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-user-confirmed" class="toc-h2 toc-link" data-title="user.confirmed">user.confirmed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-user-changed" class="toc-h2 toc-link" data-title="user.changed">user.changed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-user-updated" class="toc-h2 toc-link" data-title="user.updated">user.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-signature-created" class="toc-h2 toc-link" data-title="signature.created">signature.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-signature-updated" class="toc-h2 toc-link" data-title="signature.updated">signature.updated</a>
              </li>
              <li>
                <a href="#webhook-endpoints-signature-deleted" class="toc-h2 toc-link" data-title="signature.deleted">signature.deleted</a>
              </li>
              <li>
                <a href="#webhook-endpoints-signature-confirmed" class="toc-h2 toc-link" data-title="signature.confirmed">signature.confirmed</a>
              </li>
              <li>
                <a href="#webhook-endpoints-unsubscribe-created" class="toc-h2 toc-link" data-title="unsubscribe.created">unsubscribe.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-locale-created" class="toc-h2 toc-link" data-title="locale.created">locale.created</a>
              </li>
              <li>
                <a href="#webhook-endpoints-forum-message-requires_moderation" class="toc-h2 toc-link" data-title="forum.message.requires_moderation">forum.message.requires_moderation</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="#bulk-data" class="toc-h1 toc-link" data-title="Bulk Data">Bulk Data</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#bulk-data-export-schedule-and-webhooks" class="toc-h2 toc-link" data-title="Export schedule and webhooks">Export schedule and webhooks</a>
              </li>
              <li>
                <a href="#bulk-data-bulk-data-data-schemas" class="toc-h2 toc-link" data-title="Bulk Data Data Schemas">Bulk Data Data Schemas</a>
              </li>
              <li>
                <a href="#bulk-data-bulk-data-files" class="toc-h2 toc-link" data-title="Bulk Data Files">Bulk Data Files</a>
              </li>
              <li>
                <a href="#bulk-data-controlshift-to-redshift-pipeline" class="toc-h2 toc-link" data-title="ControlShift to Redshift Pipeline">ControlShift to Redshift Pipeline</a>
              </li>
          </ul>
      </li>
      <li>
        <a href="#authenticated-rest-api" class="toc-h1 toc-link" data-title="Authenticated REST API">Authenticated REST API</a>
          <ul class="toc-list-h2">
              <li>
                <a href="#authenticated-rest-api-rate-limits" class="toc-h2 toc-link" data-title="Rate Limits">Rate Limits</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-quickstart-guide" class="toc-h2 toc-link" data-title="Quickstart Guide">Quickstart Guide</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-organisation" class="toc-h2 toc-link" data-title="Organisation">Organisation</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-email-opt-in-types" class="toc-h2 toc-link" data-title="Email Opt In Types">Email Opt In Types</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-consent-content-versions" class="toc-h2 toc-link" data-title="Consent Content Versions">Consent Content Versions</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-members" class="toc-h2 toc-link" data-title="Members">Members</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-petitions" class="toc-h2 toc-link" data-title="Petitions">Petitions</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-signatures" class="toc-h2 toc-link" data-title="Signatures">Signatures</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-efforts-and-landing-pages" class="toc-h2 toc-link" data-title="Efforts and Landing Pages">Efforts and Landing Pages</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-partnerships" class="toc-h2 toc-link" data-title="Partnerships">Partnerships</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-events" class="toc-h2 toc-link" data-title="Events">Events</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-attendees" class="toc-h2 toc-link" data-title="Attendees">Attendees</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-calendars" class="toc-h2 toc-link" data-title="Calendars">Calendars</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-event-types" class="toc-h2 toc-link" data-title="Event Types">Event Types</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-groups" class="toc-h2 toc-link" data-title="Groups">Groups</a>
              </li>
              <li>
                <a href="#authenticated-rest-api-webhook-endpoints" class="toc-h2 toc-link" data-title="Webhook Endpoints">Webhook Endpoints</a>
              </li>
          </ul>
      </li>
  </ul>
    <ul class="toc-footer">
        <li><a href="https://www.controlshiftlabs.com/">Sign Up for ControlShift</a></li>
        <li><a href="https://github.com/tripit/slate">Documentation Powered by Slate</a></li>
    </ul>
</div>
<div class="page-wrapper">
  <div class="dark-box"></div>
  <div class="content">
    <h1 id='introduction'>Introduction</h1>
<p>Welcome to the <a href="http://www.controlshiftlabs.com/">ControlShift Labs</a> Developer documentation. Our APIs are designed to allow software engineers to create rich integrations between ControlShift content and third-party services and websites.</p>

<p>We offer several APIs to customers to cover different integration use cases.</p>

<ul>
<li><p><strong>JSONP API</strong> Unauthenticated API designed to be consumed by javascript clients written by front-end engineers. Quickly display public information about petitions, efforts, and users on external sites.</p></li>
<li><p><strong>Webhooks</strong> Get notified when changes happen so external systems can react.</p></li>
<li><p><strong>Bulk Data</strong> Integrate your ControlShift instance with a data warehouse like Redshift for SQL access and reporting.</p></li>
<li><p><strong>Authenticated REST</strong> Server Side API integration option for more advanced scenarios than are possible with the JSONP API. Uses OAuth2 to allow third-party developers to create applications and customers to grant access.</p></li>
</ul>

<p>It&#39;s important to choose the right API for the project you&#39;re undertaking. For example, the Webhooks API is almost always the right choice if you&#39;re syncing ControlShift data to a CRM.</p>

<p>API Usage assistance is available via email at <a href="mailto:support@controlshiftlabs.com">support@controlshiftlabs.com</a> </p>

<p>We publish various pieces of <a href="https://github.com/controlshift/">open source code on Github</a> which you may find useful.</p>
<h1 id='json-api-endpoints'>JSON API Endpoints</h1>
<p>The JSONP API is a simple way to embed ControlShift petition content in external sites. It&#39;s intended for use by a front-end developer embed content on web pages outside of the platform.  For example, a developer could:</p>

<ul>
<li>Show petitions</li>
<li>Allow a user to search for near by petitions</li>
<li>List petition categories</li>
<li>Show petitions within an effort</li>
<li>If a site visitor is logged in, show a users past actions and created petitions</li>
</ul>

<p>Many of the endpoints can be consumed as JSONP instead of JSON by adding callback or variable parameters to the URLs.</p>

<p>The URL slugs through the API are the same as those that are used through the web to represent specific petitions or categories.  Many front-end libraries including jQuery make it easy to consume JSONP endpoints. Our examples below use jQuery to consume these resources.</p>

<aside class="success">
These examples use the domain <code>demo.controlshiftlabs.com</code>. You'll need to replace this with the hostname of your instance.
</aside>
<h2 id='json-api-endpoints-petitions'>Petitions</h2>
<h3 id='json-api-endpoints-get-a-single-petition'>Get a single petition</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">petitionSlug</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">repair-the-yellow-brick-road-1</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://demo.controlshiftlabs.com/petitions/</span><span class="dl">'</span><span class="o">+</span><span class="nx">petitionSlug</span><span class="o">+</span><span class="dl">'</span><span class="s1">.json</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jsonp</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would display your returned petition data in the console.  The JSON response data would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">92283</span><span class="p">,</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repair the Yellow Brick Road"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repair-the-yellow-brick-road-1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oz, the Great and Terrible, Wizard"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road has been neglected; commit to repairing the damaged sections of the road in the next year!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road is the main road connecting Munchkin Country to the Emerald City and in its current state it's impassable."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-02T01:43:17Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-07T15:38:39Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"delivery_details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're off to see the wizard!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"administered_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-21T19:05:54Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"homepage"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oz"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oz"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
  </span><span class="nl">"effort"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resized_image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kristyn Arrighi"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
  </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="s2">"36.1946827"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="s2">"-78.8087571"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"query"</span><span class="p">:</span><span class="s2">"Land of Oz"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"venue"</span><span class="p">:</span><span class="s2">"Land of OZ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"street_number"</span><span class="p">:</span><span class="s2">"1007"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"street"</span><span class="p">:</span><span class="s2">"Beech Mountain Pkwy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"street_address"</span><span class="p">:</span><span class="s2">"1007 Beech Mountain Pkwy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locality"</span><span class="p">:</span><span class="s2">"Beech Mountain"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"region"</span><span class="p">:</span><span class="s2">"NC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="s2">"28604"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_code"</span><span class="p">:</span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_name"</span><span class="p">:</span><span class="s2">"United States"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"static_map_url"</span><span class="p">:</span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/locations/static_maps/27575/27575-static-map.png?1532035340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Note: The &quot;group&quot; key is deprecated and will be removed soon. Code should be updated to use the &quot;partnership&quot; key instead.</p>
</blockquote>

<p>This retrieves a single petition object.</p>
<h4 id='json-api-endpoints-get-a-single-petition-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/petitions/&lt;slug&gt;.json</code></p>
<h4 id='json-api-endpoints-get-a-single-petition-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slug</td>
<td>null</td>
<td>string - required - The petition&#39;s unique identification slug. If none is provided, you will get a 404 error. Note: submitted as a part of the endpoint path, not as a separate URL parameter</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-get-a-single-petition-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p>

<div class="js-codepen-data hidden" data-title="ControlShift Labs: Single Petition Example">
  <div class="codepen-html">
    <div id="js-content-wrapper" class="hidden">
      <span><span id="signature_count"></span> signatures</span>
      <p>Created by <span id="creator_name"></span></p>
      What
      <p id="what"></p>
      Who
      <p id="who"></p>
      Why
      <p id="why"></p>
    </div>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      var petitionSlug = 'repair-the-yellow-brick-road-1';
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/petitions/'+petitionSlug+'.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        $('#title').html(data.title);
        $('#signature_count').html(data.signature_count);
        $('#creator_name').html(data.creator_name);
        $('#what').html(data.what);
        $('#who').html(data.who);
        $('#why').html(data.why);
        $('#js-content-wrapper').removeClass('hidden');
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div>
</div>

<h3 id='json-api-endpoints-get-featured-petitions'>Get featured petitions</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://demo.controlshiftlabs.com/petitions/featured.json</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jsonp</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would display your returned featured petitions data in the console.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repair-the-yellow-brick-road-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://demo.controlshiftlabs.com/petitions/repair-the-yellow-brick-road-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repair the Yellow Brick Road"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Oz, the Great and Terrible, Wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road has been neglected; commit to repairing the damaged sections of the road in the next year!"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road is the main road connecting Munchkin Country to the Emerald City and in its current state it's impassable."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kristyn Arrighi"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-02T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-07T15:38:39Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/form/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"horizontal"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/horizontal/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/open_graph/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Oz, the Great and Terrible"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oz-the-great-and-terrible"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wizard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Land of Oz, Kensington Avenue, Buffalo, NY, United States"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.9399637"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78.8087571"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kensington Ave"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Land of Oz, Kensington Avenue, Buffalo, NY, United States"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.9399637"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78.8087571"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kensington Ave"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"we-need-more-bike-lanes"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We Need More Bike Lanes"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Mayor"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Build the bike lanes"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cyclists aren't safe."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greg Dutcher"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-12T18:08:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T12:43:45Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/167492/original/IMG_1854.JPG?1472046912"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">]</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/167492/original/IMG_1854.JPG?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/167492/form/IMG_1854.JPG?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"horizontal"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/167492/horizontal/IMG_1854.JPG?1473884741"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d8s293fyljwh4.cloudfront.net/petitions/images/167492/open_graph/IMG_1854.JPG?1473884741"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="err">]</span><span class="p">,</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.6974034"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-74.1197633"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-04-11T13:32:08Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/featured.json?page=1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/featured.json"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"prev"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/featured.json?page=2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/featured.json?page=3"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This retrieves a JSON object compliant with the <a href="http://jsonapi.org/">JSON API</a> specification, containing an array of featured petitions objects on its data property.</p>

<p><strong>Important Note:</strong> The previous featured petitions API endpoint at <code>https://demo.controlshiftlabs.com/featured.json</code> (note the missing <code>/petitions</code> path) is being deprecated and <strong>will be removed</strong> in the near future. Please use this new endpoint for retrieving featured petitions from now on.</p>
<h4 id='json-api-endpoints-get-featured-petitions-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/petitions/featured.json</code></p>
<h4 id='json-api-endpoints-get-featured-petitions-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>locale</td>
<td>null</td>
<td>string - optional - Locale filter for petitions</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-get-featured-petitions-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p>

<div class="js-codepen-data hidden" data-title="ControlShift Labs: Featured Petitions Example">
  <div class="codepen-html">
    <strong>Featured Petitions</strong>
    <ul id="featured-petitions">
    </ul>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/petitions/featured.json',
        dataType: 'jsonp',
      })
      .done(function(resp) {
        var $placeholder = $('#featured-petitions');
        $.each(resp.data, function(index, petition){
          output = '<li>'
          output += '<strong><a href="'+petition.url+'">'+petition.title+'</a></strong>';
          output += '<p>'+petition.signature_count+' signatures out of '+petition.goal+' needed </p>';
          output += '<p>'+petition.why+'</p>';
          output += '<p><a href="'+petition.url+'">Learn More</a></p>';
          output += '</li>';
          $placeholder.append(output);
        });
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>

<h3 id='json-api-endpoints-search-petitions-by-keyword'>Search petitions by keyword</h3>

<blockquote>
<p>JSON response example for the search using the <code>wizard</code> keyword:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total_entries"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"search_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wizard"</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"let-dorothy-go-home"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Let Dorothy Go Home!"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://demo.controlshiftlabs.com/petitions/let-dorothy-go-home"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Oz, the Great and Terrible, Wizard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">" Oz, the Great and Terrible"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"oz-the-great-and-terrible"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wizard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Land of Oz, Kensington Avenue, Buffalo, NY, United States"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.9399637"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78.8087571"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kensington Ave"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road has been neglected; commit to repairing the damaged sections of the road in the next year!"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
        </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kristyn Arrighi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-02T01:43:17Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-07T15:38:39Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Yellow Brick Road is the main road connecting Munchkin Country to the Emerald City and in its current state it's impassable."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Land of Oz, Kensington Avenue, Buffalo, NY, United States"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.9399637"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-78.8087571"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kensington Ave"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop-saruman-saruman-the-white"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop Saruman"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://demo.controlshiftlabs.com/petitions/stop-saruman-saruman-the-white"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saruman The White (Wizard)"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"target"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saruman The White"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"saruman-the-white"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wizard"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"location"</span><span class="p">:</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-44.7731846"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"168.325246"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9372"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NZ"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glenorchy"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denver"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isengard Lookout"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glenorchy-Routeburn Road"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isengard Lookout"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-19T19:55:11Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yay, we defeated Saruman! "</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yay, we defeated Saruman! "</span><span class="p">,</span><span class="w">
        </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop cutting down the woods"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">8780</span><span class="p">,</span><span class="w">
        </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Treebeard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T18:40:42Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-03-31T18:30:36Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ents want a place to live in peace"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-26.3168162"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"139.4674535"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3091"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AU"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Victoria"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Denver"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fangorn forest"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yarrambat"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94C7+4R"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fangorn forest"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-19T19:55:11Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>This JSON endpoint allows you to build an interface where users can search through all petitions by one or more keywords.</p>

<h4 id='json-api-endpoints-search-petitions-by-keyword-http-request'>HTTP Request</h4>

<p><code>GET https://demo.controlshiftlabs.com/petitions/search.json</code></p>

<h4 id='json-api-endpoints-search-petitions-by-keyword-query-parameters'>Query Parameters</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>query</td>
<td>null</td>
<td>string to search for</td>
</tr>
<tr>
<td>page</td>
<td>1</td>
<td>integer - optional - The page number of results for the specified search. Minimum of 1.</td>
</tr>
</tbody></table>

<div></div>
<h2 id='json-api-endpoints-categories'>Categories</h2>
<p><h3 id='json-api-endpoints-petitions-get-list-of-categories'>Get list of categories</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/categories.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would display a list of categories in the console.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;category_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Education&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;category_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;education-9&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://demo.controlshiftlabs.com/categories/education-9.json&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">421</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;locales&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;es&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Educación&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;category_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Environment&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;category_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">352</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;environment-6&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://demo.controlshiftlabs.com/categories/environment-6.json&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2606</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;locales&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;es&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Medio Ambiente&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This retrieves a JSON array of category objects.</p>
<h4 id='json-api-endpoints-petitions-get-list-of-categories-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/categories.json</code></p>
<h4 id='json-api-endpoints-petitions-get-list-of-categories-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p></p>

<div class="js-codepen-data hidden" data-title="ControlShift Labs: Categories List Example">
  <div class="codepen-html">
    <strong>Categories List</strong>
    <div id="categories">
    </div>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/categories.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        var $placeholder = $('#categories');
        $.each(data, function(index, category){
          output = '<strong><a href="'+category.url+'">'+category.category_name+'</a></strong>';
          output += '<ul>'
          output += '<li><strong>Slug:</strong> '+category.slug+'</li>';
          output += '<li><strong>Signatures:</strong>'+category.signature_count+'</li>';
          output += '<li><strong>API URL:</strong>'+category.url+'</li>';
          output += '</ul><hr/>';
          $placeholder.append(output);
        });
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>

<p><h3 id='json-api-endpoints-petitions-list-petitions-in-a-category'>List petitions in a category</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/categories/oz.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would return petitions data from the category with the slug <code>oz</code>.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">&quot;current_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;total_pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;previous_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;next_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Oz&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;let-dorothy-go-home&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://demo.controlshiftlabs.com/petitions/let-dorothy-go-home&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Let Dorothy Go Home!&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;who&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible, Wizard&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;what&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Let poor Dorothy Gale go home to Kansas&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;why&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;There&#39;s no place like home.&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;admin_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;good&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;creator_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tin Man&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;ended&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-12-02T01:43:17Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-05-07T15:38:39Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;additional_image_sizes_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;original&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;form&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/form/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/horizontal/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;open_graph&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/open_graph/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;oz-the-great-and-terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wizard&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;repair-the-yellow-brick-road-1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://demo.controlshiftlabs.com/petitions/repair-the-yellow-brick-road-1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Repair the Yellow Brick Road&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;who&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible, Wizard&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;what&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Yellow Brick Road has been neglected; commit to repairing the damaged sections of the road in the next year!&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;why&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Yellow Brick Road is the main road connecting Munchkin Country to the Emerald City and in its current state it&#39;s impassable.&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;admin_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;good&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;creator_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kristyn Arrighi&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-10-02T01:43:17Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2018-05-07T15:38:39Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;additional_image_sizes_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;original&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;form&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/form/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/horizontal/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;open_graph&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/open_graph/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;oz-the-great-and-terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wizard&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span></code></pre></div>
<p>This retrieves a paginated list of petitions in a category.</p>
<h4 id='json-api-endpoints-petitions-list-petitions-in-a-category-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/categories/&lt;category slug&gt;.json</code></p>
<h4 id='json-api-endpoints-petitions-list-petitions-in-a-category-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>category slug</td>
<td>null</td>
<td>string - required - submitted as a part of the endpoint path, not as a separate URL parameter</td>
</tr>
<tr>
<td>page</td>
<td>1</td>
<td>integer - optional - The page number of results for the specified category. Minimum of 1.</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-petitions-list-petitions-in-a-category-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p></p>

<div class="js-codepen-data hidden"  data-title="ControlShift Labs: List of Petitions in a Category Example">
  <div class="codepen-html">
    <strong>Petitions in category "<span id="name"></span>"</strong>
    <div id="petitions">
    </div>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/categories/mice.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        // Populate global category data
        $('#name').text(data.name);

        // Populate petitions data
        var $placeholder = $('#petitions');
        $.each(data.results, function(index, petition){
          output = '<strong><a href="'+petition.url+'">'+petition.title+'</a></strong>';
          output += '<ul>';
          output += '<li><strong>Image:</strong> '+petition.image_url+'</li>';
          output += '<li><strong>Who:</strong> '+petition.who+'</li>';
          output += '<li><strong>What:</strong> '+petition.what+'</li>';
          output += '<li><strong>Why:</strong> '+petition.why+'</li>';
          output += '<li><strong>Signatures:</strong> '+petition.signature_count+'</li>';
          output += '<li><strong>URL:</strong> '+petition.url+'</li>';
          output += '</ul><hr/>';
          $placeholder.append(output);
        });
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>
<h2 id='json-api-endpoints-partnerships'>Partnerships</h2>
<p><h3 id='json-api-endpoints-categories-list-petitions-in-a-partnership'>List petitions in a partnership</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/partnerships/our-awesome-partner/petitions.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would return petitions data from the partnership with the slug <code>our-awesome-partner</code>.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">&quot;current_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;total_pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;previous_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;next_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Oz&quot;</span><span class="p">,</span><span class="w">
  </span><span class="nl">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;let-dorothy-go-home&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://demo.controlshiftlabs.com/petitions/let-dorothy-go-home&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Let Dorothy Go Home!&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;who&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible, Wizard&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;what&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Let poor Dorothy Gale go home to Kansas&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;why&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;There&#39;s no place like home.&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;admin_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;good&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;creator_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tin Man&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;ended&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-12-02T01:43:17Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-05-07T15:38:39Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;additional_image_sizes_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;original&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;form&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/form/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/horizontal/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;open_graph&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/open_graph/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;oz-the-great-and-terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wizard&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;repair-the-yellow-brick-road-1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://demo.controlshiftlabs.com/petitions/repair-the-yellow-brick-road-1&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Repair the Yellow Brick Road&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;who&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible, Wizard&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;what&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Yellow Brick Road has been neglected; commit to repairing the damaged sections of the road in the next year!&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;why&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Yellow Brick Road is the main road connecting Munchkin Country to the Emerald City and in its current state it&#39;s impassable.&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;admin_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;good&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;creator_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kristyn Arrighi&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;locale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;successful&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;ended&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2014-10-02T01:43:17Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2018-05-07T15:38:39Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/hero/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;additional_image_sizes_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;original&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/original/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;form&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/form/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/horizontal/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;style&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;open_graph&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/petitions/images/92283/open_graph/2016-06-20-1466458252-1098096-ywllowbrickroad.jpg?1473884741&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; Oz, the Great and Terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;oz-the-great-and-terrible&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wizard&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
          </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Land of Oz, Kensington Avenue, Buffalo, NY, United States&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;latitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;42.9399637&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;longitude&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-78.8087571&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;street&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kensington Ave&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;postal_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;region&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NY&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;street_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;venue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-06-10T19:13:19Z&quot;</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This retrieves a paginated list of petitions in a partnership.</p>
<h4 id='json-api-endpoints-categories-list-petitions-in-a-partnership-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/partnerships/&lt;partnership slug&gt;/petitions.json</code></p>
<h4 id='json-api-endpoints-categories-list-petitions-in-a-partnership-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>partnership slug</td>
<td>null</td>
<td>string - required - submitted as a part of the endpoint path, not as a separate URL parameter</td>
</tr>
<tr>
<td>page</td>
<td>1</td>
<td>integer - optional - The page number of results for the specified partnership. Minimum of 1.</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-categories-list-petitions-in-a-partnership-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p></p>

<div class="js-codepen-data hidden"  data-title="ControlShift Labs: List of Petitions in a Partnership Example">
  <div class="codepen-html">
    <strong>Petitions in partnership "<span id="name"></span>"</strong>
    <div id="petitions">
    </div>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/partnerships/rtm-roundtable-of-mice/petitions.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        // Populate global partnership data
        $('#name').text(data.name);

        // Populate petitions data
        var $placeholder = $('#petitions');
        $.each(data.results, function(index, petition){
          output = '<strong><a href="'+petition.url+'">'+petition.title+'</a></strong>';
          output += '<ul>';
          output += '<li><strong>Image:</strong> '+petition.image_url+'</li>';
          output += '<li><strong>Who:</strong> '+petition.who+'</li>';
          output += '<li><strong>What:</strong> '+petition.what+'</li>';
          output += '<li><strong>Why:</strong> '+petition.why+'</li>';
          output += '<li><strong>Signatures:</strong> '+petition.signature_count+'</li>';
          output += '<li><strong>URL:</strong> '+petition.url+'</li>';
          output += '</ul><hr/>';
          $placeholder.append(output);
        });
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>
<h2 id='json-api-endpoints-efforts'>Efforts</h2>
<h3 id='json-api-endpoints-partnerships-get-list-of-efforts'>Get list of efforts</h3>

<blockquote>
<p>JSON response example</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"per_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ranked-choice-voting-everywhere"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/efforts/ranked-choice-voting-everywhere.json"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"en-US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ranked Choice Voting Everywhere!"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"es"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Votación por Orden de Preferencia en Todo el Mundo!"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Call on your municipality to implement ranked-choice voting."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://example.cloudfront.net/efforts/123/image/voting_maching.png"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"petitions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"search_method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"closest"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This JSON endpoint returns a paginated list of all Efforts and Landing Pages on the platform. The <code>url</code> returned for each effort can be used to retrieve information on that effort&#39;s petitions, as specified below.</p>
<h4 id='json-api-endpoints-partnerships-get-list-of-efforts-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/efforts.json</code></p>

<div></div>

<h3 id='json-api-endpoints-partnerships-list-petitions-in-an-effort'>List petitions in an effort</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">effortSlug</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">drivers-licenses-for-all</span><span class="dl">'</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://demo.controlshiftlabs.com/efforts/</span><span class="dl">'</span><span class="o">+</span><span class="nx">effortSlug</span><span class="o">+</span><span class="dl">'</span><span class="s1">.json</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jsonp</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would return petitions data from the effort with the slug <code>drivers-licenses-for-all</code>.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Drivers' Licenses for All"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"drivers-licenses-for-all"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're asking towns and villages across New York to pass resolutions in support of the Drivers' License bill. Anyone who can pass a driving test should be able to get a license."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">511</span><span class="p">,</span><span class="w">
  </span><span class="nl">"petitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ossining-support-drivers-licenses-for-all"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://demo.controlshiftlabs.com/petitions/ossining-support-drivers-licenses-for-all"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ossining: Support Drivers' Licenses For All"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ossining Village Board of Trustees"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pass a resolution in support of the Drivers' Licenses bill"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undocumented immigrants need access to drivers' licenses so they can drive to work, school, and everywhere else. This will improve road safety for everyone."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jacinda Moore"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-02T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-07T15:38:39Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ossining Village Board of Trustees"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ossining-village-board-of-trustees"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ossining"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.1617921"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8874165"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10562"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ossining"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.1617921"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8874165"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10562"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yonkers-support-drivers-licenses-for-all"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://demo.controlshiftlabs.com/petitions/yonkers-support-drivers-licenses-for-all"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yonkers: Support Drivers' Licenses For All"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yonkers City Council"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pass a resolution in support of the Drivers' Licenses bill"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Undocumented immigrants need access to drivers' licenses so they can drive to work, school, and everywhere else. This will improve road safety for everyone."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w">
      </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creator_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jacinda Moore"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We did it, we won!"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campaigner said they won the campaign"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-02T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-07T15:38:39Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yonkers City Council"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yonkers-city-council"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yonkers"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.9443748"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8993138"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10701"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yonkers"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.9443748"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8993138"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10701"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-06-10T19:13:19Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This retrieves a list of petitions in an effort.</p>

<p>Ended petitions will have the <code>ended</code> attribute set to <code>true</code> and will also include the following additional attributes:</p>

<ul>
<li><code>ended_type</code>: with values <code>&quot;won&quot;</code>, <code>&quot;lost&quot;</code> and <code>&quot;other&quot;</code> as set from petition Admin page.</li>
<li><code>ended_reason</code>: with private reason for ending set from petition Admin page.</li>
</ul>

<p>Additionally, successful petitions will have the <code>successful</code> attribute set to <code>true</code> and will include the following additional attribute:</p>

<ul>
<li><code>ended_story</code>: with ended story from petition Settings / Admin pages.</li>
</ul>
<h4 id='json-api-endpoints-partnerships-list-petitions-in-an-effort-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/efforts/&lt;effort slug&gt;.json</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>effort slug</td>
<td>null</td>
<td>string - required - submitted as a part of the endpoint path, not as a separate URL parameter</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-partnerships-list-petitions-in-an-effort-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p>

<div class="js-codepen-data hidden" data-title="ControlShift Labs: List of Petitions in an Effort Example">
  <div class="codepen-html">
    <strong>Petitions in effort "<span id="title"></span>"</strong>
    <p><span id="description"></span></p>
    <div id="petitions">
    </div>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      var effortSlug = 'forecast-the-facts';
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/efforts/'+effortSlug+'.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        // Populate global effort data
        $('#title').text(data.title);
        $('#description').text(data.description);

        // Populate petitions data
        var $placeholder = $('#petitions');
        $.each(data.petitions, function(index, petition){
          output = '<strong><a href="'+petition.url+'">'+petition.title+'</a></strong>';
          output += '<ul>';
          output += '<li><strong>Image:</strong> '+petition.image_url+'</li>';
          output += '<li><strong>Who:</strong> '+petition.who+'</li>';
          output += '<li><strong>What:</strong> '+petition.what+'</li>';
          output += '<li><strong>Why:</strong> '+petition.why+'</li>';
          output += '<li><strong>Signatures:</strong> '+petition.signature_count+'</li>';
          output += '<li><strong>Goal:</strong> '+petition.goal+'</li>';
          output += '<li><strong>URL:</strong> '+petition.url+'</li>';
          output += '<li><strong>Location:</strong> <ul>'
          output += '<li><strong>Query:</strong> '+petition.location.query+'</li>';
          output += '<li><strong>Latitude:</strong> '+petition.location.latitude+'</li>';
          output += '<li><strong>Longitude:</strong> '+petition.location.longitude+'</li>';
          output += '</ul></li>';
          output += '</ul><hr/>';
          $placeholder.append(output);
        });
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>

<p><h3 id='json-api-endpoints-partnerships-search-petitions-in-a-effort'>Search petitions in a effort</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">effortSlug</span> <span class="o">=</span> <span class="dl">&#39;</span><span class="s1">drivers-licenses-for-all</span><span class="dl">&#39;</span><span class="p">;</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/efforts/</span><span class="dl">&#39;</span><span class="o">+</span><span class="nx">effortSlug</span><span class="o">+</span><span class="dl">&#39;</span><span class="s1">/lookup/query.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">&#39;</span><span class="s1">location_query</span><span class="dl">&#39;</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">briarcliff manor, ny</span><span class="dl">&#39;</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would return petitions, decision makers, or objectives data from the effort with the slug <code>drivers-licenses-for-all</code>. If returning decision makers, the JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">&quot;closest_target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ossining-village-board-of-trustees&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ossining Village Board of Trustees&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ossining, NY&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;target_petition_created&quot;</span><span class="p">,</span><span class="w">
    </span><span class="nl">&quot;petition&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ossining-support-drivers-licenses-for-all&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ossining: Support Drivers&#39; Licenses For All&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://demo.controlshiftlabs.com/petitions/ossining-support-drivers-licenses-for-all&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;who&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ossining Village Board of Trustees&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;signature_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">223</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;goal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-10-02T01:43:17Z&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-10-07T15:38:39Z&quot;</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">&quot;other_targets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;yorktown-town-council&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Yorktown Town Council&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Yorktown, NY&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;target_awaiting_petition&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;create_petition_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://demo.controlshiftlabs.com/efforts/drivers-licenses-for-all/petitions/creating?target_id=1234&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This JSON endpoint allows you to build an interface where users can search the petitions in an effort.
Depending on how the effort is configured, you can search either by location, or by keyword.</p>
<h4 id='json-api-endpoints-partnerships-search-petitions-in-a-effort-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/efforts/&lt;effort slug&gt;/lookup/query.json</code></p>
<h4 id='json-api-endpoints-partnerships-search-petitions-in-a-effort-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>effort slug</td>
<td>yes</td>
<td>string - submitted as a part of the endpoint path, not as a separate URL parameter</td>
</tr>
<tr>
<td>location_query</td>
<td>yes, if effort is configured for location search</td>
<td>string to search for (will be geocoded on the server)</td>
</tr>
<tr>
<td>query</td>
<td>yes, if effort is configured for keyword search</td>
<td>string to search for</td>
</tr>
</tbody></table>
<h4 id='json-api-endpoints-partnerships-search-petitions-in-a-effort-working-example'>Working Example</h4>
<p>View and edit a working example on codepen.io:</p></p>

<div class="js-codepen-data hidden"
  data-js_external="https://maps.googleapis.com/maps/api/js?key=AIzaSyAY2t1MpsrZH3aH6wJqAiq4vAQUscMmjY0&libraries=places;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
  data-title="ControlShift Labs: Search Petitions in an Effort Example">
  <div class="codepen-html">
    <strong>Find the closest petitions to you</strong>
    <form>
      <input type="text" class="form-control" id="effort-lookup-input" placeholder="Enter your city or postal code">
      <input type="submit" value="Search">
    </form>
    <div id="petitions">
    </div>
  </div>
  <pre class="codepen-js">
    function buildPetition(target, description){
      output = '<strong><em>'+description+' Petition</em>: '+target.name+'</strong>';
      output += '<p>'+target.location+'</p> <ul>';
      output += '<li><strong>Title:</strong> '+target.petition.title+'</li>';
      output += '<li><strong>Who:</strong> '+target.petition.who+'</li>';
      output += '<li><strong>Goal:</strong> '+target.petition.goal+'</li>';
      output += '<li><strong>Signatures so far:</strong> '+target.petition.signature_count+'</li>';
      output += '</ul><hr/>';
      return output;
    }

    function performSearch(query) {
      // get the targets and petitions (if they exist) for the effort near the place specified.
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/efforts/forecast-the-facts/lookup/query.json',
        dataType: 'jsonp',
        data: {
          'location_query': query
        }
      })
      .done(function(data) {
        $placeholder = $('#petitions');
        if (data.code != undefined) {
          if ((data.code == 'no_nearby_targets') || (data.code == 'no_nearby_petitions')){
            $placeholder.html('<strong>No Petitions Found</strong>');
            return;
          } else if (data.code == 'location_required') {
            $placeholder.html('<strong>Location required</strong>');
            return;
          }
        }
        //populate closest target
        $placeholder.html( buildPetition(data.closest_target, 'Closest') );
        $.each(data.other_targets, function(index, other_petition){
          $placeholder.append( buildPetition(other_petition, 'Near By') );
        });
      });
    };

    $(document).ready(function(){
      var input = document.getElementById('effort-lookup-input');
      $('form').on('submit', function(e){
        e.preventDefault()

        var searchQuery = $(input).val()
        performSearch(searchQuery);
      });
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>

<div></div>
<h2 id='json-api-endpoints-calendars'>Calendars</h2>
<p><h3 id='json-api-endpoints-efforts-get-calendar-data'>Get calendar data</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/calendars/national-day-of-action-against-fracking.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would display a calendar&#39;s properties the js console.  The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="nl">&quot;calendar&quot;</span><span class="p">:{</span><span class="w">
      </span><span class="nl">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;National Day of Action Against Fracking&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;This is the description. It will be great.&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;slug&quot;</span><span class="p">:</span><span class="s2">&quot;national-day-of-action-against-fracking&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;image_url&quot;</span><span class="p">:</span><span class="s2">&quot;https://d8s293fyljwh4.cloudfront.net/calendars/images/26/hero/Oak-tree-in-field-007.jpg?1450370489&quot;</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;event_count&quot;</span><span class="p">:</span><span class="mi">85</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;attendee_count&quot;</span><span class="p">:</span><span class="mi">19</span><span class="p">,</span><span class="w">
      </span><span class="nl">&quot;events_upcoming&quot;</span><span class="p">:</span><span class="mi">10</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This retrieves a JSON object representing a calendar.</p>
<h4 id='json-api-endpoints-efforts-get-calendar-data-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/calendars/slug.json</code></p></p>

<p>Where slug is the slug of the calendar you&#39;re retrieving. 
<div></div></p>
<h2 id='json-api-endpoints-local-map'>Local Map</h2>
<p><h3 id='json-api-endpoints-calendars-get-organizing-locations-points'>Get organizing locations: points</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/api/local/points.json</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would retrieve point locations and log them to the js console. The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">40.7032775</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;lon&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-74.0170279</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;picnic-in-the-park&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">8.2710078</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;lon&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">148.0209055</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Group&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default-org-mariana-trench&quot;</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;lat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">41.467116</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;lon&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-73.9992597</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ExternalEvent&quot;</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/sail-on-the-hudson&quot;</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This JSON endpoint returns a complete list of latitude/longitude coordinates for publicly listed events, groups, and external events in your organisation. It&#39;s intended to be used for plotting organizing activities on a map.</p>
<h4 id='json-api-endpoints-calendars-get-organizing-locations-points-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/api/local/points.json</code>
<div></div></p></p>

<p><h3 id='json-api-endpoints-calendars-get-organizing-locations-details'>Get organizing locations: details</h3><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">https://demo.controlshiftlabs.com/api/local.json?page=1&amp;per_page=3</span><span class="dl">&#39;</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">&#39;</span><span class="s1">jsonp</span><span class="dl">&#39;</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would retrieve one page of location data and log it to the js console. The JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">&quot;meta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;per_page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">&quot;total_pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;picnic-in-the-park&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Picnic in the Park&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;We are having a picnic in the park and you are invited!&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;start_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020-03-01T12:00:00Z&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Group&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;default-org-mariana-trench&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Default Org: Mariana Trench&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This group has the deepest conversations you will ever hear.&quot;</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ExternalEvent&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/sail-on-the-hudson&quot;</span><span class="w">
            </span><span class="nl">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sail on the Hudson&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Go for a sail on the Hudson river to promote environmentalism.&quot;</span><span class="p">,</span><span class="w">
            </span><span class="nl">&quot;start_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-05-03T13:00:00Z&quot;</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This JSON endpoint returns a paginated list of publicly listed events, groups, and external events in your organisation.
It can be used alongside the <code>/api/local/points</code> endpoint; the criteria for inclusion are the same.</p>
<h4 id='json-api-endpoints-calendars-get-organizing-locations-details-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/api/local.json</code></p>
<h4 id='json-api-endpoints-calendars-get-organizing-locations-details-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>(optional) Which page of results to fetch</td>
</tr>
<tr>
<td>per_page</td>
<td>10</td>
<td>(optional) How many results, maximum, should be included on each page</td>
</tr>
</tbody></table></p>

<div></div>
<h2 id='json-api-endpoints-logged-in-user'>Logged in user</h2><div class="highlight"><pre class="highlight javascript"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">https://demo.controlshiftlabs.com/api/graph/me.json</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jsonp</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>
<blockquote>
<p>The above code would user details for a signed in user. The returned JSON would be structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"authenticated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"me"</span><span class="p">:{</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="s2">"john@smith.com"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"petitions"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="nl">"slug"</span><span class="p">:</span><span class="s2">"sample-campaign"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"Sample Campaign"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-25T15:37:28Z"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-25T15:37:35Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"events"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="nl">"slug"</span><span class="p">:</span><span class="s2">"sample-campaign"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"title"</span><span class="p">:</span><span class="s2">"Sample Campaign"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2016-03-25T15:37:28Z"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-25T15:37:35Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"chapters"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
       </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Brooklyn bruisers"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"slug"</span><span class="p">:</span><span class="s2">"brooklyn-bruisers"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2015-05-14T15:53:03Z"</span><span class="p">,</span><span class="w">
       </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2016-03-25T15:40:44Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response for a visitor who is not logged in:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"not_authenticated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="s2">"user is not signed in"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response for a hostname that is not whitelisted:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"field"</span><span class="p">:</span><span class="s2">"referer"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"messages"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"host name not whitelisted"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>We provide a specialized jsonp endpoint to return information about the currently signed in user. Customers can use this endpoint to power features where information about the current user&#39;s petitions, sign in status, and other information about their account is displayed on external sites. Some examples of the sorts of functionality that this could be used to provide include:</p>

<ul>
<li>Conditionally show either a login link for unauthenticated users or a link to the user&#39;s my account page in the header of external pages.</li>
<li>Show information about a user&#39;s campaigns when someone visits an external site, or a prompt to start a campaign if the currently signed in user has none.</li>
<li>Show a direct link to a user&#39;s local group from an external site rather than linking to a generic search for your group page.</li>
</ul>

<aside class="notice">
You must whitelist your hostname prior to using this end point. Read more below.
</aside>
<h3 id='json-api-endpoints-logged-in-user-http-request'>HTTP Request</h3>
<p><code>GET http://demo.controlshiftlabs.com/api/graph/me.json</code></p>
<h3 id='json-api-endpoints-logged-in-user-working-example'>Working Example</h3>
<p>View and edit a working example on codepen.io.  Note: codepen.io is <em>whitelisted</em> for the demo account.</p>

<div class="js-codepen-data hidden" data-title="ControlShift Labs: Logged in User Example">
  <div class="codepen-html">
    <strong>Logged in User</strong>
    <p class="js-not-logged-in hidden">The user is not logged in.</p>
    <ul class="js-logged-in hidden">
      <li><strong>First Name:</strong> <span id="first_name"></span></li>
      <li><strong>First Name:</strong> <span id="last_name"></span></li>
      <li><strong>Email:</strong> <span id="email"></span></li>
      <li><strong>Petitions:</strong> <ul id="petitions"></ul></li>
      <li><strong>Events:</strong> <ul id="events"></ul></li>
      <li><strong>Chapters:</strong> <ul id="chapters"></ul></li>
    </ul>
  </div>
  <pre class="codepen-js">
    $(document).ready(function(){
      $.ajax({
        url: 'https://demo.controlshiftlabs.com/api/graph/me.json',
        dataType: 'jsonp',
      })
      .done(function(data) {
        if(data.status == 'authenticated'){
          // Populate data for logged in user
          $('#first_name').html(data.me.first_name);
          $('#last_name').html(data.me.last_name);
          $('#email').html(data.me.email);

          var $petitionsPlaceholder = $('#petitions');
          $.each(data.petitions, function(index, petition){
            $petitionsPlaceholder.append('<li>'+petition.title+'</li>');
          });

          var $eventsPlaceholder = $('#events');
          $.each(data.events, function(index, event){
            $eventsPlaceholder.append('<li>'+event.title+'</li>');
          });

          var $chaptersPlaceholder = $('#chapters');
          $.each(data.chapters, function(index, chapter){
            $chaptersPlaceholder.append('<li>'+chapter.name+'</li>');
          });

          $('.js-logged-in').removeClass('hidden');
        }else if(data.status == 'not_authenticated'){
          // Show "not logged in" for users who aren't logged in
          $('.js-not-logged-in').removeClass('hidden');
        }else if(data.status == 'error'){
          // Show known error messages
          $('body').append('<strong>Errors</strong><ul>')
          $.each(data.errors, function(index, error){
            $('body').append('<li><strong>'+error.field+'</strong> '+error.messages.join('; ')+'</li>')
          });
          $('body').append('</ul>')
        }
      });
    })
    .error(function(data){
      $('body').append('<strong>Errors</strong><p>Unknown Error</p>');
    });
  </pre>
</div>

<form action="https://codepen.io/pen/define" method="POST" target="_blank" class="hidden">
  <input type="hidden" name="data" class="js-data" value="">
  <input type="submit" value="Launch Example on CodePen">
</form>
<h3 id='json-api-endpoints-logged-in-user-whitelisting-a-hostname'>Whitelisting a Hostname</h3>
<p>We authenticate requests to the current user endpoint by validating the hostname set in the HTTP referrer header against a whitelist. The whitelist is set of hostnames that scripts can be served from. If you request the endpoint from a script served from a non-whitelisted hostname you&#39;ll get an error message. This is necessary to prevent cross site scripting attacks that would allow someone to display logged in user information on unauthorized sites.</p>

<p>You can add hostnames to the whitelist through a self-serve interface in the &quot;Settings&quot; area of your instance. Settings &gt; Add Hostname &gt; enter a Hostname, and click save.</p>

<p>The hostname must be a hostname string like &quot;localhost&quot; &quot;www.google.com&quot; or the like. Wildcards or full HTTP URLs are not supported.</p>

<p>When you access the graph API endpoint from a page served from a whitelisted hostname the browser will automatically set a referrer header on those requests. We use this referrer header to validate the server the script was served from against the whitelist. You can verify that a whitelisted hostname is working properly with the curl command line tool:</p>

<p><code>curl --referer http://localhost/ http://demo.controlshiftlabs.com/api/graph/me.json</code></p>

<p>The above should return a JSON blob indicating that the user is not signed in if localhost is whitelisted. Otherwise you&#39;ll get a not whitelisted error.</p>

<p>For authenticated users we currently return their first and last names, email addresses, and lists of petitions they&#39;ve created, events they&#39;ve created and local groups they are a member of.</p>
<h2 id='json-api-endpoints-bulk-data'>Bulk Data</h2>
<h3 id='json-api-endpoints-logged-in-user-bulk-data-schema'>Bulk data schema</h3>

<p>This retrieves information on the underlying schemas of tables exported by the Bulk Data feature. It can be used
in your ETL processes to automate the setup of tables in your data warehouse.</p>

<p>If the <em>Compress bulk data exports</em> option is enabled, the extra <code>compression_format</code> property will be included in the response with the format used for compressing the bulk data export CSVs.</p>

<blockquote>
<p>Response format:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"tables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petitions"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"columns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"title"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sql_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"character varying"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nullable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"custom_goal"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"sql_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integer"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"nullable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="err">...</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"compression_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BZIP2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='json-api-endpoints-logged-in-user-bulk-data-schema-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/api/bulk_data/schema.json</code></p>

<div></div>

<h3 id='json-api-endpoints-logged-in-user-bulk-data-columns'>Bulk data columns</h3>

<p>This retrieves information on the tables exported by the Bulk Data API. For convenience when working with third-party data 
warehouse tools like Amazon Redshift it can be useful to know the current columns for each table that the bulk data API exposes
in CSV format. </p>

<p>The response is equivalent to the header row of tables exposed through our Bulk Data API. The table parameter controls
which table header row is returned.</p>

<blockquote>
<p>Response format:</p>
</blockquote>

<div class="highlight"><pre class="highlight plaintext"><code>id,petition_id,email,first_name,last_name,phone_number,postcode,created_at,join_organisation,deleted_at,unsubscribe_at,external_constituent_id,member_id,additional_fields,cached_organisation_slug,source,external_id,new_member,external_action_id,locale,bucket,country,updated_at,user_ip,confirmation_token,confirmed_at,confirmation_sent_at,last_signed_at,join_list_suppressed,old_daisy_chain_used,from_embed,user_agent,confirmed_reason,synced_to_crm_at,daisy_chain_experiment_slug,eu_data_processing_consent,from_one_click,consent_content_version_id,daisy_chain_id_used,email_opt_in_type_id,facebook_id,utm_params,postcode_id,referring_share_click_id,join_partnership,opt_in_sms,sms_opt_in_type_id,recaptcha_score,new_mobile_subscriber
</code></pre></div><h4 id='json-api-endpoints-logged-in-user-bulk-data-columns-http-request'>HTTP Request</h4>
<p><code>GET https://demo.controlshiftlabs.com/api/bulk_data/schema/columns?table=signatures</code></p>
<h4 id='json-api-endpoints-logged-in-user-bulk-data-columns-query-parameters'>Query Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>Which table from the bulk data schema endpoint should be returned</td>
</tr>
</tbody></table>

<div></div>
<h1 id='webhook-endpoints'>Webhook Endpoints</h1>
<p>Webhooks can be used by software engineers to integrate ControlShift with third-party systems. They allow engineers to build software that is triggered by events that take place within ControlShift. ControlShift executes HTTPS callbacks when certain events happen (e.g. a petition is launched; a category is changed).</p>

<p>To begin using webhooks, visit the admin for your ControlShift Platform and choose Settings &gt; Integrations &gt; Webhooks.  To begin sending data, you&#39;ll need to add a &quot;New Webhook Endpoint.&quot; Each Webhook Endpoint URL you specify will receive a stream of all the hooks that occur within your ControlShift account.</p>

<p>If you need additional information about webhooks or how to use them, please send us a support email <a href="mailto:support@controlshiftlabs.com">support@controlshiftlabs.com</a>.</p>
<h3 id='webhook-endpoints-bulk-data-what-is-a-webhook'>What is a Webhook?</h3>
<p>Webhooks are HTTPS callbacks sent to a URL called an endpoint. Each time something happens in ControlShift an HTTPS POST request is made to the endpoints you&#39;ve defined.</p>

<p>Many platforms like Twilio, Github and Slack also use Webhooks.</p>

<p>To handle a webhook you&#39;ll need a web application that can accept the HTTPS requests. If you already have a web application set up, handling a webhook 
is usually as easy as adding a new URL to your application. If not you&#39;ll have to write a new web application. Most programming languages have frameworks 
that can make this easy.  Webhooks can also be handled by serverless functions like AWS Lambda or Azure Functions. </p>

<p>Webhooks are just HTTP requests. Anything that can process requests from the web can process webhooks, if the application behind it is programmed properly. Webhooks are just a fancy name for using HTTP requests for event based integration between apps.</p>
<h3 id='webhook-endpoints-bulk-data-retries'>Retries</h3>
<p>For webhook notifications successfully processed the response should have an HTTP 2XX status code. Responses returning a different status code will be marked as failed and automatically retried up to 9 times with an exponential backoff (e.g.: after 15s, 30s, 90s, etc.).</p>

<p>If after 9 retries the notification cannot be delivered, the webhook endpoint will be automatically disabled and will need to be re-enabled from the admin page to start receiving webhook notifications again. We do this to protect our infrastructure and ability to deliver webhooks successfully. </p>

<p>We recommend making sure your webhook endpoint only returns non-2XX statuses if your service is temporarily down or experiencng a transient error. Applications that consistently return an error status when they recieve particular webhooks will inevitably end up disabled once retries are exhausted.</p>
<h3 id='webhook-endpoints-bulk-data-security'>Security</h3>
<p>Securing access to your endpoints where webhooks are sent is important. We recommend taking a variety of steps.</p>

<ul>
<li>Using HTTPS with modern cypher suite.</li>
<li>Restricting access by IP address</li>
<li>Using basic HTTP authentication or an API token/secret in the URL.</li>
<li>Verifying the signature hash of the message payload we send to authenticate ControlShift as the source of the webhook.</li>
</ul>
<h3 id='webhook-endpoints-bulk-data-webhook-hmac-authenticity-signing'>Webhook HMAC Authenticity Signing</h3>
<p>We send a special HTTP header along with webhook deliveries that allows customers to verify that the body of the
webhook being delivered originated from within your ControlShift account. We use HMAC and SHA 256 along with a
secret generated for each endpoint</p>

<p>Using HMAC Authenticity signing is optional, but is a security best practice. Otherwise someone else could send requests to your webhook endpoint
that impersonate ControlShift. HMAC signing guarantees that the webhooks you receive are authentic.</p>

<p>You can retrieve the secret or generate a new one via Settings &gt; Integrations &gt; Webhooks within your ControlShift platform admin.</p>

<table><thead>
<tr>
<th>Header</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>x-controlshift-webhook-signature</code></td>
<td>sha256:abc123hjkl6789</td>
</tr>
</tbody></table>

<p>The value is the prefix <code>sha256:</code> specifying the algorithm in use combined with the <a href="https://en.wikipedia.org/wiki/HMAC">HMAC digest</a> of the webhook HTTP
request body signed with the signing secret specified for your endpoint in the ControlShift admin tools.</p>

<p>To verify the webhooks you receive are authentic, users should calculate the same digest value and compare it to the digest
passed in the <code>x-controlshift-webhook-signature</code> header. These values should always be the same.</p>
<h3 id='webhook-endpoints-bulk-data-ip-addresses'>IP Addresses</h3>
<p>Webhooks will be delivered from a stable set of the IP addresses that will not change. It is a good idea to safe-list these addresses and block webhooks originating from unknown IP addresses.</p>

<ul>
<li>54.144.65.46</li>
<li>54.208.56.53</li>
</ul>
<h3 id='webhook-endpoints-bulk-data-direct-aws-access'>Direct AWS Access</h3>
<p>The Bulk Data API notifies customers about new data files via webhook. In addition to allowing access via signed HTTPS
request, the Bulk Data API allows direct access to these files from within the same region where your ControlShift account
resides (usually us-east-1). Direct AWS Access allows for high-performance access to files on AWS S3 without leaving the AWS
Cloud for customers with a point of presence in the same AWS Region. Contact support if you would like to make use of this advanced feature.</p>
<h2 id='webhook-endpoints-designing-a-data-sync'>Designing a data sync</h2>
<p>The most common use case for the Webhooks API is synchronizing ControlShift to an organization&#39;s CRM of record when an out-of the-box CRM integration is not available as part of the ControlShift product.</p>

<p>While designing a CRM integration sync, there are a few specific webhook events that a minimalist integration should respond to as a starting point depending on the ControlShift features that are in use. </p>

<table><thead>
<tr>
<th>Webhook</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>signature.created</code></td>
<td>a user signed a petition</td>
</tr>
<tr>
<td><code>attendee.created</code></td>
<td>a user signed up to attend an event</td>
</tr>
<tr>
<td><code>local_chapter.member.created</code></td>
<td>a user joined a local chapter</td>
</tr>
<tr>
<td><code>unsubscribe.created</code></td>
<td>a user unsubscribed and no longer wishes to receive email</td>
</tr>
</tbody></table>

<p>Responding to these events is generally sufficient to keep an external mailing list up to date so that staff do not need to shuffle CSVs back and forth. </p>
<h2 id='webhook-endpoints-webhook-types-summary'>Webhook types summary</h2>
<p>You can configure ControlShift Labs Webhooks to return the following event types:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#webhook-endpoints-blast_email-created">blast_email.created</a></td>
<td>A new blast email is ready for moderation</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-category-created">category.created</a></td>
<td>A new category is created</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-category-updated">category.updated</a></td>
<td>A category is changed</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-category-deleted">category.deleted</a></td>
<td>A category has been deleted and removed from the organisation</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-data-full_table_exported">data.full_table_exported</a></td>
<td>A full-table dump is ready for retrieval on S3.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-data-incremental_table_exported">data.incremental_table_exported</a></td>
<td>An incremental CSV update is ready for retrieval on S3.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-email-open">email.open</a></td>
<td>Link in an email has been clicked</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-email-click">email.click</a></td>
<td>Email has been opened</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-event-created">event.created</a></td>
<td>A new event is published</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-event-created-requires_moderation">event.created.requires_moderation</a></td>
<td>A new event requires moderation</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-event-mentor_assigned">event.mentor_assigned</a></td>
<td>Mentor was assigned to the event</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-event-mentor_removed">event.mentor_removed</a></td>
<td>Mentor was removed from the event</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-event-updated">event.updated</a></td>
<td>An event is updated</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-attendee-created">attendee.created</a></td>
<td>Member RSVP to event</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-attendee-confirmed">attendee.confirmed</a></td>
<td>Member confirmed RSVP and email address. This event is only emitted for organisations who have email confirmation turned on. This event is only emitted for explicit attendee confirmations, not implicit confirmations eg: for logged in users.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-attendee-updated">attendee.updated</a></td>
<td>Member updates RSVP to event</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-attendee-deleted">attendee.deleted</a></td>
<td>Attendee permanently deleted. This is currently only triggered when a member deletes its account.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-flag-created">flag.created</a></td>
<td>Someone flags a problem for admin attention</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-label-applied">label.applied</a></td>
<td>A label is applied to a campaign, event, group, or member</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-label-removed">label.removed</a></td>
<td>A label is removed from a campaign, event, group, or member</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-created">local_chapter.created</a></td>
<td>A local group has been created.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-last_organiser-deleted">local_chapter.last_organiser.deleted</a></td>
<td>A local chapter&#39;s last organiser leaves the group</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-mentor_assigned">local_chapter.mentor_assigned</a></td>
<td>Mentor was assigned to the local chapter</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-mentor_removed">local_chapter.mentor_removed</a></td>
<td>Mentor was removed from the local chapter</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-organiser_request-created">local_chapter.organiser_request.created</a></td>
<td>A user applies to be a local chapter organiser</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-organiser_request-approved">local_chapter.organiser_request.approved</a></td>
<td>An admin approves a user&#39;s application to be a local chapter organiser</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-organiser-created">local_chapter.organiser.created</a></td>
<td>An organiser is added to a local chapter</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-member-created">local_chapter.member.created</a></td>
<td>A member joins a local chapter</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-local_chapter-member-deleted">local_chapter.member.deleted</a></td>
<td>A member leaves or is removed from a local chapter</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-member-deleted">member.deleted</a></td>
<td>A member is deleted</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-member-deleted-resources_transferred">member.deleted.resources_transferred</a></td>
<td>Resources previously owned by a deleted member have been transferred to another</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-ended">petition.ended</a></td>
<td>A petition is marked as won, lost, or ended for another reason</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-flagged">petition.flagged</a></td>
<td>A petition is flagged for the first or fifth time</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-inappropriate-creator_message">petition.inappropriate.creator_message</a></td>
<td>An inappropriate petition&#39;s creator writes a message to admins</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-mentor_assigned">petition.mentor_assigned</a></td>
<td>Mentor was assigned to the petition</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-mentor_removed">petition.mentor_removed</a></td>
<td>Mentor was removed from the petition</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-launched">petition.launched</a></td>
<td>A new petition is launched</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-launched-ham">petition.launched.ham</a></td>
<td>A petition passes the post-launch spam check</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-launched-requires_moderation">petition.launched.requires_moderation</a></td>
<td>A new petition requires moderation</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-reactivated">petition.reactivated</a></td>
<td>A hidden or ended petition is reactivated</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-start-help_requested">petition.start.help_requested</a></td>
<td>A member has requested help while starting a petition</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-updated">petition.updated</a></td>
<td>A petition is updated</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-updated-requires_moderation">petition.updated.requires_moderation</a></td>
<td>An updated petition requires moderation</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-petition-target-response">petition.target.response</a></td>
<td>Decision maker responded to a petition notification</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-user-created">user.created</a></td>
<td>New user created.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-user-confirmed">user.confirmed</a></td>
<td>User has confirmed its new account. This event is only emitted for organisations who have user confirmation turned on.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-user-changed">user.changed</a></td>
<td>A user has changed their saved first_name, last_name, postcode, locale  or email opt-in type.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-user-updated">user.updated</a></td>
<td>A user is updated.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-signature-created">signature.created</a></td>
<td>Member signs a petition</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-signature-updated">signature.updated</a></td>
<td>Existing signature updated. This can happen when member unsubscribes or reasserts their opt in for receiving emails</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-signature-deleted">signature.deleted</a></td>
<td>Signature permanently deleted. Signature deletions are distinct from unsubscribes and should be treated as if the signature never happened</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-signature-confirmed">signature.confirmed</a></td>
<td></td>
</tr>
<tr>
<td><a href="#webhook-endpoints-unsubscribe-created">unsubscribe.created</a></td>
<td>Member unsubscribes. This notification is emitted when member: is globally unsubscribed from the organisation by an admin or through the API, unsubscribes from partnership or unsubscribes from a petition.</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-locale-created">locale.created</a></td>
<td>New i18n instance created</td>
</tr>
<tr>
<td><a href="#webhook-endpoints-forum-message-requires_moderation">forum.message.requires_moderation</a></td>
<td>A new message requires moderation</td>
</tr>
</tbody></table>
<h2 id='webhook-endpoints-blast_email-created'>blast_email.created</h2>
<blockquote>
<p>Example payload for <code>blast_email.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blast_email.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please help spread the word"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"recipient_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">990</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new blast email is ready for moderation</p>
<h2 id='webhook-endpoints-category-created'>category.created</h2>
<blockquote>
<p>Example payload for <code>category.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"category.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new category is created</p>
<h2 id='webhook-endpoints-category-updated'>category.updated</h2>
<blockquote>
<p>Example payload for <code>category.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"category.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A category is changed</p>
<h2 id='webhook-endpoints-category-deleted'>category.deleted</h2>
<blockquote>
<p>Example payload for <code>category.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"category.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A category has been deleted and removed from the organisation</p>
<h2 id='webhook-endpoints-data-full_table_exported'>data.full_table_exported</h2>
<blockquote>
<p>Example payload for <code>data.full_table_exported</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data.full_table_exported"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://agra-data-exports.s3.amazonaws.com/default/petitions_20150803180434.csv?AWSAccessKeyId=XXX&amp;Expires=1438711490&amp;Signature=ABCDE%3D"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petitions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"s3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra-data-exports"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/default/petitions_20150803180434.csv"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"compression_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bzip2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cf0f50d7d225e20a188be328"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A full-table dump is ready for retrieval on S3.</p>

<p><p>
<b>Note</b>
<p>
URL is encoded using (7-bit) ASCII and some characters will be escaped (i.e.: &#39;&amp;&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, etc.). See <a target="blank" href="https://www.rubydoc.info/gems/activesupport/ActiveSupport/JSON/Encoding">https://www.rubydoc.info/gems/activesupport/ActiveSupport/JSON/Encoding</a> for more details
</p>
<p>The <code>compression_format</code> field will either be <code>bzip2</code> or <code>none</code> depending whether data exports compression is enabled or not.</p>
<p>If the <i>AWS Account ID</i> value is set for any of the webhook endpoints, an extra <code>s3</code> object attribute is included with <code>bucket</code> and <code>key</code> attributes for referencing the S3 object directly.</p>
</p></p>
<h2 id='webhook-endpoints-data-incremental_table_exported'>data.incremental_table_exported</h2>
<blockquote>
<p>Example payload for <code>data.incremental_table_exported</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data.incremental_table_exported"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://agra-data-exports.s3.amazonaws.com/default/petitions_20150803180434.csv?AWSAccessKeyId=XXX&amp;Expires=1438711490&amp;Signature=ABCDE%3D"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petitions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"s3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra-data-exports"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/default/petitions_20150803180434.csv"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"compression_format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bzip2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cf0f50d7d225e20a188be328"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An incremental CSV update is ready for retrieval on S3.</p>

<p><p>
<b>Note</b>
<p>
URL is encoded using (7-bit) ASCII and some characters will be escaped (i.e.: &#39;&amp;&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, etc.). See <a target="blank" href="https://www.rubydoc.info/gems/activesupport/ActiveSupport/JSON/Encoding">https://www.rubydoc.info/gems/activesupport/ActiveSupport/JSON/Encoding</a> for more details
</p>
<p>The <code>compression_format</code> field will either be <code>bzip2</code> or <code>none</code> depending whether data exports compression is enabled or not.</p>
<p>If the <i>AWS Account ID</i> value is set for any of the webhook endpoints, an extra <code>s3</code> object attribute is included with <code>bucket</code> and <code>key</code> attributes for referencing the S3 object directly.</p>
</p></p>
<h2 id='webhook-endpoints-email-open'>email.open</h2>
<blockquote>
<p>Example payload for <code>email.open</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email.open"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@test.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1513299569</span><span class="p">,</span><span class="w">
    </span><span class="nl">"smtp-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;14c5d75ce93.dfd.64b469@ismtpd-555&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cat facts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sg_event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg_event_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sg_message_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg_message_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"useragent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.255"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Link in an email has been clicked</p>
<h2 id='webhook-endpoints-email-click'>email.click</h2>
<blockquote>
<p>Example payload for <code>email.click</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email.click"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example@test.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1513299569</span><span class="p">,</span><span class="w">
    </span><span class="nl">"smtp-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;14c5d75ce93.dfd.64b469@ismtpd-555&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"click"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cat facts"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sg_event_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg_event_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sg_message_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg_message_id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"useragent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/4.0 (compatible; MSIE 6.1; Windows XP; .NET CLR 1.1.4322; .NET CLR 2.0.50727)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.255"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.controlshift.app/"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Email has been opened</p>
<h2 id='webhook-endpoints-event-created'>event.created</h2>
<blockquote>
<p>Example payload for <code>event.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition Hand In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.7638667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8098213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06 Roosevelt Ave, Flushing, NY 11354, États-Unis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Roosevelt Avenue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queens Public Library at McGoldrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-23T19:09:41Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annabelles@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-28T16:06:43Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lunch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debrief"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/events/images/2656/hero/_uploads_7db6d361-d3a4-4ba3-8d82-7ec3d432eea6_gettyimages-469869876.jpg20210705-641506-dcm2y0.jpg?1625504128"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new event is published</p>
<h2 id='webhook-endpoints-event-created-requires_moderation'>event.created.requires_moderation</h2>
<blockquote>
<p>Example payload for <code>event.created.requires_moderation</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event.created.requires_moderation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition Hand In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.7638667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8098213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06 Roosevelt Ave, Flushing, NY 11354, États-Unis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Roosevelt Avenue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queens Public Library at McGoldrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-23T19:09:41Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annabelles@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-28T16:06:43Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lunch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debrief"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/events/images/2656/hero/_uploads_7db6d361-d3a4-4ba3-8d82-7ec3d432eea6_gettyimages-469869876.jpg20210705-641506-dcm2y0.jpg?1625504128"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new event requires moderation</p>
<h2 id='webhook-endpoints-event-mentor_assigned'>event.mentor_assigned</h2>
<blockquote>
<p>Example payload for <code>event.mentor_assigned</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event.mentor_assigned"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition Hand In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.7638667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8098213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06 Roosevelt Ave, Flushing, NY 11354, États-Unis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Roosevelt Avenue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queens Public Library at McGoldrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-23T19:09:41Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annabelles@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-28T16:06:43Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lunch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debrief"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/events/images/2656/hero/_uploads_7db6d361-d3a4-4ba3-8d82-7ec3d432eea6_gettyimages-469869876.jpg20210705-641506-dcm2y0.jpg?1625504128"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was assigned to the event</p>
<h2 id='webhook-endpoints-event-mentor_removed'>event.mentor_removed</h2>
<blockquote>
<p>Example payload for <code>event.mentor_removed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event.mentor_removed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition Hand In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.7638667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8098213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06 Roosevelt Ave, Flushing, NY 11354, États-Unis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Roosevelt Avenue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queens Public Library at McGoldrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-23T19:09:41Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annabelles@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-28T16:06:43Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lunch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debrief"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/events/images/2656/hero/_uploads_7db6d361-d3a4-4ba3-8d82-7ec3d432eea6_gettyimages-469869876.jpg20210705-641506-dcm2y0.jpg?1625504128"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was removed from the event</p>
<h2 id='webhook-endpoints-event-updated'>event.updated</h2>
<blockquote>
<p>Example payload for <code>event.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition Hand In"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.7638667"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-73.8098213"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06 Roosevelt Ave, Flushing, NY 11354, États-Unis"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Roosevelt Avenue"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155-06"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Queens Public Library at McGoldrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-23T19:09:41Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"annabelles@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Annabelle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-28T16:06:43Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/petition-hand-in"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lunch"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T18:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debrief"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T20:00:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-29T22:00:00Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/events/images/2656/hero/_uploads_7db6d361-d3a4-4ba3-8d82-7ec3d432eea6_gettyimages-469869876.jpg20210705-641506-dcm2y0.jpg?1625504128"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An event is updated</p>
<h2 id='webhook-endpoints-attendee-created'>attendee.created</h2>
<blockquote>
<p>Example payload for <code>attendee.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attendee.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/events/meetup-at-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meetup-at-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Member RSVP to event</p>
<h2 id='webhook-endpoints-attendee-confirmed'>attendee.confirmed</h2>
<blockquote>
<p>Example payload for <code>attendee.confirmed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attendee.confirmed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/events/meetup-at-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meetup-at-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Member confirmed RSVP and email address. This event is only emitted for organisations who have email confirmation turned on. This event is only emitted for explicit attendee confirmations, not implicit confirmations eg: for logged in users.</p>
<h2 id='webhook-endpoints-attendee-updated'>attendee.updated</h2>
<blockquote>
<p>Example payload for <code>attendee.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attendee.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/events/meetup-at-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meetup-at-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Member updates RSVP to event</p>
<h2 id='webhook-endpoints-attendee-deleted'>attendee.deleted</h2>
<blockquote>
<p>Example payload for <code>attendee.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attendee.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/events/meetup-at-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"meetup-at-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Attendee permanently deleted. This is currently only triggered when a member deletes its account.</p>
<h2 id='webhook-endpoints-flag-created'>flag.created</h2>
<blockquote>
<p>Example payload for <code>flag.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flag.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flagged"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ForumMessage"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">224</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"flagged_by"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bobby@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bobby Singer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This violates our community commitments"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unreviewed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-05T13:17:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-05T13:17:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f848f4b38b9125f7089d59ad"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Someone flags a problem for admin attention</p>

<p><p>For example, a local chapter organiser flags a forum message.</p></p>
<h2 id='webhook-endpoints-label-applied'>label.applied</h2>
<blockquote>
<p>Example payload for <code>label.applied</code>:</p>
</blockquote>

<p>A label is applied to a campaign, event, group, or member</p>
<h2 id='webhook-endpoints-label-removed'>label.removed</h2>
<blockquote>
<p>Example payload for <code>label.removed</code>:</p>
</blockquote>

<p>A label is removed from a campaign, event, group, or member</p>
<h2 id='webhook-endpoints-local_chapter-created'>local_chapter.created</h2>
<blockquote>
<p>Example payload for <code>local_chapter.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A local group has been created.</p>
<h2 id='webhook-endpoints-local_chapter-last_organiser-deleted'>local_chapter.last_organiser.deleted</h2>
<blockquote>
<p>Example payload for <code>local_chapter.last_organiser.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.last_organiser.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A local chapter&#39;s last organiser leaves the group</p>
<h2 id='webhook-endpoints-local_chapter-mentor_assigned'>local_chapter.mentor_assigned</h2>
<blockquote>
<p>Example payload for <code>local_chapter.mentor_assigned</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.mentor_assigned"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was assigned to the local chapter</p>
<h2 id='webhook-endpoints-local_chapter-mentor_removed'>local_chapter.mentor_removed</h2>
<blockquote>
<p>Example payload for <code>local_chapter.mentor_removed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.mentor_removed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was removed from the local chapter</p>
<h2 id='webhook-endpoints-local_chapter-organiser_request-created'>local_chapter.organiser_request.created</h2>
<blockquote>
<p>Example payload for <code>local_chapter.organiser_request.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.organiser_request.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Goodall"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goodall"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I want to be part of this amazing group"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user applies to be a local chapter organiser</p>
<h2 id='webhook-endpoints-local_chapter-organiser_request-approved'>local_chapter.organiser_request.approved</h2>
<blockquote>
<p>Example payload for <code>local_chapter.organiser_request.approved</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.organiser_request.approved"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">505</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Goodall"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goodall"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I want to be part of this amazing group"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An admin approves a user&#39;s application to be a local chapter organiser</p>
<h2 id='webhook-endpoints-local_chapter-organiser-created'>local_chapter.organiser.created</h2>
<blockquote>
<p>Example payload for <code>local_chapter.organiser.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.organiser.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"introduction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I want to save the world!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notification_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_messages"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An organiser is added to a local chapter</p>
<h2 id='webhook-endpoints-local_chapter-member-created'>local_chapter.member.created</h2>
<blockquote>
<p>Example payload for <code>local_chapter.member.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.member.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"introduction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I want to save the world!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notification_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_messages"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A member joins a local chapter</p>
<h2 id='webhook-endpoints-local_chapter-member-deleted'>local_chapter.member.deleted</h2>
<blockquote>
<p>Example payload for <code>local_chapter.member.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local_chapter.member.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"introduction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I want to save the world!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notification_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_messages"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"springfield-members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Springfield Members"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/local_chapters/springfield-members"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A member leaves or is removed from a local chapter</p>
<h2 id='webhook-endpoints-member-deleted'>member.deleted</h2>
<blockquote>
<p>Example payload for <code>member.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"new_owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Chamberlain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chamberlain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A member is deleted</p>
<h2 id='webhook-endpoints-member-deleted-resources_transferred'>member.deleted.resources_transferred</h2>
<blockquote>
<p>Example payload for <code>member.deleted.resources_transferred</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"member.deleted.resources_transferred"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"new_owner"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Chamberlain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chamberlain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Resources previously owned by a deleted member have been transferred to another</p>
<h2 id='webhook-endpoints-petition-ended'>petition.ended</h2>
<blockquote>
<p>Example payload for <code>petition.ended</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.ended"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A petition is marked as won, lost, or ended for another reason</p>
<h2 id='webhook-endpoints-petition-flagged'>petition.flagged</h2>
<blockquote>
<p>Example payload for <code>petition.flagged</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.flagged"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A petition is flagged for the first or fifth time</p>
<h2 id='webhook-endpoints-petition-inappropriate-creator_message'>petition.inappropriate.creator_message</h2>
<blockquote>
<p>Example payload for <code>petition.inappropriate.creator_message</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.inappropriate.creator_message"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An inappropriate petition&#39;s creator writes a message to admins</p>
<h2 id='webhook-endpoints-petition-mentor_assigned'>petition.mentor_assigned</h2>
<blockquote>
<p>Example payload for <code>petition.mentor_assigned</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.mentor_assigned"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was assigned to the petition</p>
<h2 id='webhook-endpoints-petition-mentor_removed'>petition.mentor_removed</h2>
<blockquote>
<p>Example payload for <code>petition.mentor_removed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.mentor_removed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Mentor was removed from the petition</p>
<h2 id='webhook-endpoints-petition-launched'>petition.launched</h2>
<blockquote>
<p>Example payload for <code>petition.launched</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.launched"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new petition is launched</p>
<h2 id='webhook-endpoints-petition-launched-ham'>petition.launched.ham</h2>
<blockquote>
<p>Example payload for <code>petition.launched.ham</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.launched.ham"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A petition passes the post-launch spam check</p>
<h2 id='webhook-endpoints-petition-launched-requires_moderation'>petition.launched.requires_moderation</h2>
<blockquote>
<p>Example payload for <code>petition.launched.requires_moderation</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.launched.requires_moderation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new petition requires moderation</p>
<h2 id='webhook-endpoints-petition-reactivated'>petition.reactivated</h2>
<blockquote>
<p>Example payload for <code>petition.reactivated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.reactivated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A hidden or ended petition is reactivated</p>
<h2 id='webhook-endpoints-petition-start-help_requested'>petition.start.help_requested</h2>
<blockquote>
<p>Example payload for <code>petition.start.help_requested</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.start.help_requested"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-10T15:01:22Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_step"</span><span class="p">:</span><span class="w"> </span><span class="s2">"who"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alice@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"help_requested_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-10T15:05:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop the Pipeline"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YAyhN3juH8Y2gZCgvgimJnQqyS1dXnkzQht5DWNXb_07cfydfwIH7w"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-10T15:05:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ebf2eb10c3d8939f42dff68"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A member has requested help while starting a petition</p>
<h2 id='webhook-endpoints-petition-updated'>petition.updated</h2>
<blockquote>
<p>Example payload for <code>petition.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A petition is updated</p>
<h2 id='webhook-endpoints-petition-updated-requires_moderation'>petition.updated.requires_moderation</h2>
<blockquote>
<p>Example payload for <code>petition.updated.requires_moderation</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.updated.requires_moderation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>An updated petition requires moderation</p>
<h2 id='webhook-endpoints-petition-target-response'>petition.target.response</h2>
<blockquote>
<p>Example payload for <code>petition.target.response</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"petition.target.response"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Don't destroy our park!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/hero/imag0945.jpg?1438621934"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_image_sizes_url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/form/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"large"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/large/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open_graph"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/open_graph/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"style"</span><span class="p">:</span><span class="w"> </span><span class="s2">"original"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://d34smfggpfnvat.cloudfront.net/petitions/images/788/original/imag0945.jpg?1438621934"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anytown City Council"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The park on Main Street is an important community space.  Don't approve the proposal to sell it to office building developers."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agra.user.adm@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tyshawn"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Morissette"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34058-2356"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:11:02Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:12:15Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Studies have shown that green space is important to child development and community well-being."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won the campaign! The Main Street park will be protected for years to come."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We won! Thanks to your support, the city council has agreed to protect the Main Street park from development."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Richard Rodriguez"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"richard@dogooders.org"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fccc1957d7d7ebc93fb0f05"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Decision maker responded to a petition notification</p>
<h2 id='webhook-endpoints-user-created'>user.created</h2>
<blockquote>
<p>Example payload for <code>user.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>New user created.</p>
<h2 id='webhook-endpoints-user-confirmed'>user.confirmed</h2>
<blockquote>
<p>Example payload for <code>user.confirmed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.confirmed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>User has confirmed its new account. This event is only emitted for organisations who have user confirmation turned on.</p>
<h2 id='webhook-endpoints-user-changed'>user.changed</h2>
<blockquote>
<p>Example payload for <code>user.changed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.changed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Nate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Nathan"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unchecked_checkbox"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user has changed their saved first_name, last_name, postcode, locale  or email opt-in type.</p>
<h2 id='webhook-endpoints-user-updated'>user.updated</h2>
<blockquote>
<p>Example payload for <code>user.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"changes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Nate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Nathan"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unchecked_checkbox"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A user is updated.</p>
<h2 id='webhook-endpoints-signature-created'>signature.created</h2>
<blockquote>
<p>Example payload for <code>signature.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2919ec5f25d493c19690a21135d7fd902a336927"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/43.0.2357.130 Chrome/43.0.2357.130 Safari/537.36"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ebf2eb10c3d8939f42dff68"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Member signs a petition</p>

<p><p>We also include optional partnership or effort slugs nested under the petition resource for signatures that take place on petitions associated with those objects.</p>
<table class='table'>
<tr>
<th>Field</th>
<th>Help</th>
</tr>
<tr>
<td>join_organisation</td>
<td>If the user opts in to receive email from the organisation, this is true. If the user does not wish to receive email or join the organisation this is false.</td>
</tr>
<tr>
<td>confirmed_at</td>
<td>A timestamp, set when the user confirms their email address and signature. Used for double opt in.</td>
</tr>
<tr>
<td>confirmed_reason</td>
<td>The mechanism through which the user confirmed their signature</td>
</tr>
<tr>
<td>email_opt_in_type</td>
<td>A representation of the mechanism that the member used while opting in or out of email.</td>
</tr>
</table></p>
<h2 id='webhook-endpoints-signature-updated'>signature.updated</h2>
<blockquote>
<p>Example payload for <code>signature.updated</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.updated"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2919ec5f25d493c19690a21135d7fd902a336927"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/43.0.2357.130 Chrome/43.0.2357.130 Safari/537.36"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ebf2eb10c3d8939f42dff68"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Existing signature updated. This can happen when member unsubscribes or reasserts their opt in for receiving emails</p>

<p><p>We also include optional partnership or effort slugs nested under the petition resource for signatures that take place on petitions associated with those objects.</p>
<table class='table'>
<tr>
<th>Field</th>
<th>Help</th>
</tr>
<tr>
<td>join_organisation</td>
<td>If the user opts in to receive email from the organisation, this is true. If the user does not wish to receive email or join the organisation this is false.</td>
</tr>
<tr>
<td>confirmed_at</td>
<td>A timestamp, set when the user confirms their email address and signature. Used for double opt in.</td>
</tr>
<tr>
<td>confirmed_reason</td>
<td>The mechanism through which the user confirmed their signature</td>
</tr>
<tr>
<td>email_opt_in_type</td>
<td>A representation of the mechanism that the member used while opting in or out of email.</td>
</tr>
</table></p>
<h2 id='webhook-endpoints-signature-deleted'>signature.deleted</h2>
<blockquote>
<p>Example payload for <code>signature.deleted</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2919ec5f25d493c19690a21135d7fd902a336927"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/43.0.2357.130 Chrome/43.0.2357.130 Safari/537.36"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ebf2eb10c3d8939f42dff68"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Signature permanently deleted. Signature deletions are distinct from unsubscribes and should be treated as if the signature never happened</p>

<p><p>We also include optional partnership or effort slugs nested under the petition resource for signatures that take place on petitions associated with those objects.</p>
<table class='table'>
<tr>
<th>Field</th>
<th>Help</th>
</tr>
<tr>
<td>join_organisation</td>
<td>If the user opts in to receive email from the organisation, this is true. If the user does not wish to receive email or join the organisation this is false.</td>
</tr>
<tr>
<td>confirmed_at</td>
<td>A timestamp, set when the user confirms their email address and signature. Used for double opt in.</td>
</tr>
<tr>
<td>confirmed_reason</td>
<td>The mechanism through which the user confirmed their signature</td>
</tr>
<tr>
<td>email_opt_in_type</td>
<td>A representation of the mechanism that the member used while opting in or out of email.</td>
</tr>
</table></p>
<h2 id='webhook-endpoints-signature-confirmed'>signature.confirmed</h2>
<blockquote>
<p>Example payload for <code>signature.confirmed</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"signature.confirmed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">645</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goines"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jenny@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2919ec5f25d493c19690a21135d7fd902a336927"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-campaign-v2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">"social"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"share-variant-3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parks"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/43.0.2357.130 Chrome/43.0.2357.130 Safari/537.36"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pre_checked_checkbox"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcd12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">747</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/petitions/don-t-destroy-our-park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"don-t-destroy-our-park"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:30:01Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ebf2eb10c3d8939f42dff68"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><p>We also include optional partnership or effort slugs nested under the petition resource for signatures that take place on petitions associated with those objects.</p>
<table class='table'>
<tr>
<th>Field</th>
<th>Help</th>
</tr>
<tr>
<td>join_organisation</td>
<td>If the user opts in to receive email from the organisation, this is true. If the user does not wish to receive email or join the organisation this is false.</td>
</tr>
<tr>
<td>confirmed_at</td>
<td>A timestamp, set when the user confirms their email address and signature. Used for double opt in.</td>
</tr>
<tr>
<td>confirmed_reason</td>
<td>The mechanism through which the user confirmed their signature</td>
</tr>
<tr>
<td>email_opt_in_type</td>
<td>A representation of the mechanism that the member used while opting in or out of email.</td>
</tr>
</table></p>
<h2 id='webhook-endpoints-unsubscribe-created'>unsubscribe.created</h2>
<blockquote>
<p>Example payload for <code>unsubscribe.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe.created"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"river@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribe_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribable_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:38:49Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe.created"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"river@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribe_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribable_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PartnershipSubscription"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:38:49Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe.created"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"river@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribe_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribable_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T13:38:49Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blast_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">199</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please help spread the word"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"030ee43a4fa9788e084d9cfc"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Member unsubscribes. This notification is emitted when member: is globally unsubscribed from the organisation by an admin or through the API, unsubscribes from partnership or unsubscribes from a petition.</p>

<p><p>
First example: Admin globally unsubscribes a member from the member page
</p>
<p>
Second example: Member unsubscribes from partnership
<br>
<span>
<strong>Note:</strong>
<strong>unsubscribe_organisation</strong>
can have true or false values depending on member&#39;s input at the unsubscribe page (only if the
<em>Allow global unsubscribes</em>
option is enabled for the organisation)
</span>
</p>
<p>
Third example: Member unsubscribes from petition
<br>
<span>
<strong>Notes:</strong>
<br>
<strong>unsubscribe_organisation</strong>
can have true or false values depending on member&#39;s input at the unsubscribe page (only if the
<em>Allow global unsubscribes</em>
option is enabled for the organisation)
<br>
The
<strong>blast_email</strong>
property will only be included if member unsubscribed by clicking on the link included on the petition blast email&#39;s footer
</span>
</p></p>
<h2 id='webhook-endpoints-locale-created'>locale.created</h2>
<blockquote>
<p>Example payload for <code>locale.created</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"locale.created"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"es"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"action_kit_external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-03T12:38:46Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df67126973794c2efde76cc4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>New i18n instance created</p>
<h2 id='webhook-endpoints-forum-message-requires_moderation'>forum.message.requires_moderation</h2>
<blockquote>
<p>Example payload for <code>forum.message.requires_moderation</code>:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"forum.message.requires_moderation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"thread_title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello everyone"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I just wanted to say hi"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unreviewed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sent_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-05T13:17:46Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10829</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-05T13:17:46Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"discussable"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"discussable_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LocalChapter"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"discussable_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"jid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f848f4b38b9125f7089d59ad"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>A new message requires moderation</p>

<p><div class='mt10'>
<b>Note</b>
<div>
The <strong>admin_status</strong> field can take any of the following values:
<ul>
<li>
<em>unreviewed</em>
</li>
<li>
<em>flagged</em>
</li>
<li>
<em>approved_automatically</em>
</li>
<li>
<em>approved_manually</em>
</li>
<li>
<em>flagged_deleted</em>
</li>
<li>
<em>inappropriate</em>
</li>
</ul>
Though on the <em>forum.message.requires_moderation</em> notification type it will always be set to <em>unreviewed</em>
</div>
<div class='mt5'>
The <strong>discussable.discussable_type</strong> field can take any of the following values:
<ul>
<li>
<em>LocalChapter</em>
</li>
<li>
<em>Event</em>
</li>
</ul>
</div>
</div></p>
<h1 id='bulk-data'>Bulk Data</h1>
<p>To perform advanced reporting or analytics on your ControlShift data, you can mirror all your data into an external database. This can be a helpful tool for answering high-level questions about member engagement.</p>

<p>We provide a set of automated bulk exports and webhooks, along with examples (linked below) on how to use them.</p>

<p>This service was built in a database agnostic way, but it is possible to build a ControlShift &rarr; Amazon Redshift data pipeline using the <a href="#bulk-data-controlshift-to-redshift-pipeline">ControlShift to Redshift Pipeline</a> technique outlined below.</p>
<h2 id='bulk-data-export-schedule-and-webhooks'>Export schedule and webhooks</h2>
<p>Every night, we&#39;ll export the most up-to-date version of all of your data into a set of CSV files, one for each internal ControlShift table. The <a href="#webhook-endpoints-data-full_table_exported">data.full_table_exported</a> indicates such an export. These full CSV files should <em>replace</em> the existing data in your mirror database.</p>

<p>Additionally, once a minute, we&#39;ll produce CSV files with any new rows that have been <em>added</em> to ControlShift&#39;s internal tables. The <a href="#webhook-endpoints-data-incremental_table_exported">data.incremental_table_exported</a> webhooks indicates a set of these added-rows exports. Note that the incremental exports do <em>not</em> include any updates or deletions of existing rows; you&#39;ll have to wait for the nightly export to receive fresh data with updates and deletions included.</p>

<aside class="notice">
Bulk data webhooks should be automatically included when adding a new webhook endpoint. Please contact support to report any issues with bulk data webhook generation. For testing, you can manually trigger these wehbooks by visiting <code>https://&lt;your controlshift instance&gt;/org/settings/integrations/webhook_endpoints</code> and clicking on "Trigger" under "Test Nightly Bulk Data Export Webhook".
</aside>
<h2 id='bulk-data-bulk-data-data-schemas'>Bulk Data Data Schemas</h2>
<p>The bulk data webhooks include exports of the following tables:</p>

<ul>
<li>admin_notes</li>
<li>attendee_shifts</li>
<li>attendees</li>
<li>blast_emails</li>
<li>calendars</li>
<li>campaign_admins</li>
<li>categories</li>
<li>categorized_petitions</li>
<li>comments</li>
<li>consent_content_versions</li>
<li>contents</li>
<li>crm_sync_logs</li>
<li>custom_links</li>
<li>daisy_chain_rules</li>
<li>daisy_chain_steps</li>
<li>daisy_chains</li>
<li>data_exports</li>
<li>data_processing_consents</li>
<li>drip_email_preferences</li>
<li>efforts</li>
<li>email_opt_in_types</li>
<li>email_opt_in_uploads</li>
<li>event_imports</li>
<li>event_types</li>
<li>events</li>
<li>export_download_logs</li>
<li>external_events</li>
<li>import_batches</li>
<li>labelings</li>
<li>labels</li>
<li>local_chapter_members</li>
<li>local_chapters</li>
<li>locales</li>
<li>locations</li>
<li>members</li>
<li>objective_collections</li>
<li>objectives</li>
<li>partnership_subscriptions</li>
<li>partnerships</li>
<li>petition_flags</li>
<li>petition_starts</li>
<li>petitions</li>
<li>regions</li>
<li>share_clicks</li>
<li>shifts</li>
<li>signatures</li>
<li>sms_opt_in_types</li>
<li>stories</li>
<li>target_collections</li>
<li>target_notifications</li>
<li>targets</li>
<li>targets_for_petitions</li>
<li>targets_in_collections</li>
<li>teams</li>
<li>timeline_posts</li>
<li>unsubscribes</li>
<li>user_invitations</li>
<li>users</li>
</ul>

<p>For full information on the schema of each table, use the <code>/api/bulk_data/schema.json</code> API endpoint.</p>
<h2 id='bulk-data-bulk-data-files'>Bulk Data Files</h2>
<p>Each table exposed by the bulk data API is made available as a CSV file with the URL to download each file sent via webhook.</p>

<p>We expire access to data 6 hours after it has been generated. This means that if you are building an automated system
to ingest data from this API it must process webhook notifications within 6 hours.</p>

<p>Once webhook data has expired, the download URLs will return a 403 error response.</p>
<h3 id='bulk-data-bulk-data-files-files-compression'>Files compression</h3>
<p>When the <strong>Compress bulk data exports</strong> option is enabled (available at the Webhooks integration page), incremental and nightly bulk data export files will be compressed in <a href="https://sourceware.org/bzip2/"><code>bzip2</code> format</a>. This will improve the performance for fetching the files from S3 since they will be considerably smaller.</p>
<h3 id='bulk-data-bulk-data-files-interpreting-the-share_clicks-table'>Interpreting the share_clicks table</h3>
<p>The <code>share_clicks</code> table is designed to help you understand in detail how social media sharing influences member actions.
Every time a member clicks on a social sharing link on a petition or event page, it&#39;s recorded in the <code>share_clicks</code> table,
and we add a unique sharing token to the campaign link they share. When another member follows the shared link and
signs a petition, we record the <code>referring_share_click_id</code> for the new signature. Thus it is possible to trace the origin
of a signature to the member who shared a campaign on social media.</p>
<h4 id='bulk-data-bulk-data-files-interpreting-the-share_clicks-table-auto-generated-share-clicks'>Auto-generated share clicks</h4>
<p>For button clicks on campaign pages, we can create share click records on the fly, using Javascript.
But when members click on social sharing links in emails, or forward campaign emails to their friends, it&#39;s impossible
to track that activity directly.</p>

<p>To support the referring-member functionality for emails, we pre-create <code>share_clicks</code>
records representing the idea that a user might click on the social sharing links in the Thanks email, or
forward the email to their friends. Then we add the unique sharing tokens to the links in the email, so that any
signatures resulting from those email-based shares can get a <code>referring_share_click_id</code>. We do this for both the
Thanks For Signing email, and the Thanks For Creating Petition email.</p>

<p>The pre-created <code>share_clicks</code> records have <code>true</code> values in the <code>auto_generated</code> column, to allow distinguishing them
from records that represent a member definitely clicking on something.</p>
<h4 id='bulk-data-bulk-data-files-interpreting-the-share_clicks-table-column-by-column'>Column by column</h4>
<table><thead>
<tr>
<th>Column</th>
<th>Explanation</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for this share click. Not guaranteed to be sequential.</td>
</tr>
<tr>
<td>page_type</td>
<td>Campaign type (Petition or Event)</td>
</tr>
<tr>
<td>page_id</td>
<td>Campaign ID; corresponds to <code>id</code> in the <code>petitions</code> or <code>events</code> table</td>
</tr>
<tr>
<td>medium</td>
<td>What kind of share (e.g. &quot;facebook&quot; or &quot;email&quot;)</td>
</tr>
<tr>
<td>member_id</td>
<td>If available, which member did the share click. Corresponds to <code>id</code> in the <code>members</code> table. Might be null if e.g. a member arrived on a petition page and immediately shared without signing.</td>
</tr>
<tr>
<td>created_at</td>
<td>When the member clicked on the sharing button. Or for auto-generated share clicks, when the email was sent.</td>
</tr>
<tr>
<td>updated_at</td>
<td>Usually the same as <code>created_at</code>, but would be updated if the record was changed after creation</td>
</tr>
<tr>
<td>token</td>
<td>Random unique identifier used to refer to this share click in URLs</td>
</tr>
<tr>
<td>auto_generated</td>
<td>Whether this is an auto-generated share click. Boolean.</td>
</tr>
</tbody></table>
<h3 id='bulk-data-bulk-data-files-interpreting-the-unsubscribes-table'>Interpreting the unsubscribes table</h3>
<p>The <code>unsubscribes</code> table is used for keeping a record of all member unsubscribes.</p>

<p>There are several kinds of unsubscribes:</p>

<ul>
<li>Petition unsubscribe: member is unsubscribing just from a petition they have signed.</li>
<li>Event unsubscribe: member is unsubscribing just from an event they have RSVPed to.</li>
<li>Partnership unsubscribe: member is unsubscribing from all actions they have taken in petitions and events from a partner organisation.</li>
<li>Organisation unsubscribe: member is unsubscribing from all actions they have taken with the organisation.</li>
</ul>

<p>Depending the kind of unsubscribe the member is taking, the database record will have different values on its attributes:</p>

<table><thead>
<tr>
<th>Unsubscribe Kind</th>
<th>Attribute values</th>
</tr>
</thead><tbody>
<tr>
<td>Petition unsubscribe</td>
<td><code>unsubscribable_type</code> = <code>&quot;Signature&quot;</code>.<br><code>unsubscribable_id</code> corresponds to id in the <code>signatures</code> table.<br><code>unsubscribe_object</code> and <code>unsubscribe_organisation</code> may be <code>true</code> or <code>false</code> depending the option the member chooses when unsubscribing.</td>
</tr>
<tr>
<td>Event unsubscribe</td>
<td><code>unsubscribable_type</code> = <code>&quot;Attendee&quot;</code>.<br><code>unsubscribable_id</code> corresponds to id in the <code>attendees</code> table.<br><code>unsubscribe_object</code> and <code>unsubscribe_organisation</code> may be <code>true</code> or <code>false</code> depending the option the member chooses when unsubscribing.</td>
</tr>
<tr>
<td>Partnership unsubscribe</td>
<td><code>unsubscribable_type</code> = <code>&quot;PartnershipSubscription&quot;</code>.<br><code>unsubscribable_id</code> corresponds to id in the <code>partnership_subscriptions</code> table.<br><code>unsubscribe_object</code> and <code>unsubscribe_organisation</code> may be <code>true</code> or <code>false</code> depending the option the member chooses when unsubscribing.</td>
</tr>
<tr>
<td>Organisation unsubscribe</td>
<td><code>unsubscribable_type</code> = <code>&quot;Organisation&quot;</code>.<br><code>unsubscribe_object</code> = <code>false</code>.<br><code>unsubscribe_organisation</code> = <code>true</code>.</td>
</tr>
</tbody></table>

<p>Additionally the following columns apply for all kinds of unsubscribe:</p>

<table><thead>
<tr>
<th>Column</th>
<th>Explanation</th>
</tr>
</thead><tbody>
<tr>
<td>blast_email_id</td>
<td>Blast email ID; corresponds to <code>id</code> in the <code>blast_emails</code> table. May be null if unsubscribe was not triggered by the member clicking on a blast email&#39;s unsubscribe link (e.g.: when unsubscribing member from the API or from org admin page).</td>
</tr>
<tr>
<td>email</td>
<td>Member&#39;s email address.</td>
</tr>
<tr>
<td>external_id</td>
<td>If unsubscribe was synced to CRM this column will store the ID on the external system.</td>
</tr>
<tr>
<td>externally_unsubscribed_at</td>
<td>When the unsubscribe was synced to CRM.</td>
</tr>
<tr>
<td>created_at</td>
<td>When the unsubscribe was recorded in the platform.</td>
</tr>
<tr>
<td>updated_at</td>
<td>Same as <code>created_at</code> as unsubscribe records cannot be updated after creation.</td>
</tr>
</tbody></table>
<h2 id='bulk-data-controlshift-to-redshift-pipeline'>ControlShift to Redshift Pipeline</h2>
<p>Setting up an Amazon Redshift integration is a great way to learn more about the actions your members are taking or perform
sophisticated analytics, but it is an advanced topic that requires knowledge of Amazon Web Services, SQL, and Terraform.</p>

<p>Following these instructions we&#39;ll use a custom <a href="http://docs.aws.amazon.com/lambda/latest/dg/welcome.html">AWS Lambda</a>
to receive data from ControlShift&#39;s bulk data API webhooks and two different mechanisms to load our data into Redshift:</p>

<ul>
<li>Amazon&#39;s <a href="https://github.com/awslabs/aws-lambda-redshift-loader">Lambda Redshift Loader</a>, for processing incremental exports and full table exports for small tables.</li>
<li><a href="https://docs.aws.amazon.com/glue/latest/dg/what-is-glue.html">AWS Glue</a>, for processing full table exports for large tables (i.e.: <code>signatures</code>).</li>
</ul>

<p>The final result will be a replica of the tables that back your instance of ControlShift that are refreshed in
full each night and appended with inserts on a per-minute basis.</p>

<p>ControlShift has authored a Terraform module that makes the entire setup process straightforward and allows for updates
to the infrastructure over time.</p>
<h3 id='bulk-data-controlshift-to-redshift-pipeline-example-flow'>Example Flow</h3><h4 id='bulk-data-controlshift-to-redshift-pipeline-example-flow-controlshift-redshift-flow-for-small-data-exports'>ControlShift Redshift Flow For Small Data Exports</h4>
<p><img src="images/ControlShift_Redshift_flow_with_Lambdas_transparent-5d321c7a.svg" alt="ControlShift Redshift Flow With Lambdas Chart" /></p>
<h4 id='bulk-data-controlshift-to-redshift-pipeline-example-flow-controlshift-redshift-flow-for-large-data-exports'>ControlShift Redshift Flow For Large Data Exports</h4>
<p><img src="images/ControlShift_Redshift_flow_with_Glue_transparent-0c25f125.svg" alt="ControlShift Redshift Flow With Glue Chart" /></p>
<h3 id='bulk-data-controlshift-to-redshift-pipeline-redshift-pipeline-setup'>Redshift Pipeline Setup</h3>
<p>If you are not yet using Redshift or Terraform, we&#39;ve written <a href="https://github.com/controlshift/bulk-data-example">an example Terraform plan</a>
that should create a working integration, a new Redshift instance and appropriate permissions from an otherwise empty AWS Account.</p>

<p>If you are already using Terraform or Redshift it is probably best to either fork this example or
 <a href="https://registry.terraform.io/modules/controlshift/controlshift-redshift-sync/aws/">use the module we provide directly in your own TF plan</a></p>

<p>Applying the Terraform plan in your AWS account will create all of the resources necessary and output the Webhook URL that you&#39;ll need to configure within
your ControlShift platform settings.</p>
<h4 id='bulk-data-controlshift-to-redshift-pipeline-redshift-pipeline-setup-prepare-redshift-schema'>Prepare Redshift Schema</h4>
<p>We need to prep tables in your Redshift Data Warehouse to receive our ControlShift Data.  We&#39;ll use <code>psql</code> for this.</p>

<ol>
<li>Install <code>psql</code> if you don&#39;t have it already.</li>
<li>Download the current SQL DDL for ControlShift&#39;s tables <a href="/data/tables.sql" target="_blank">tables.sql</a>
or <a href="https://github.com/controlshift/bulk-data-example/blob/master/create_tables.rb">generate an up to date one using this script.</a> that uses our Schema API.</li>
<li>Finally, you&#39;ll need to load that set of tables into your Redshift instance with the following command:</li>
</ol>

<p><code>psql -h &lt;cluster_endpoint&gt; -U &lt;database_user&gt; -d &lt;database_name&gt; -p &lt;cluster_port&gt; -f petitions_schema.sql</code></p>
<h3 id='bulk-data-controlshift-to-redshift-pipeline-configure-controlshift-39-s-webhook'>Configure ControlShift&#39;s Webhook</h3>
<p>Finally, you&#39;ll need to log into your admin panel.  Settings &gt; Integrations &gt; Webhooks. Then add the bulk data webhook pointing at your Lambda endpoint output by the Terraform plan.</p>
<h3 id='bulk-data-controlshift-to-redshift-pipeline-working-with-compressed-bulk-data-files'>Working with compressed bulk data files</h3>
<p>As described in <a href="#bulk-data-bulk-data-files-files-compression">Bulk data files compression</a>, you can enable compression for bulk data export files. Doing so has the additional benefit of allowing to horizontally scale up AWS Glue&#39;s processing of large files as detailed in <a href="https://aws.amazon.com/blogs/big-data/best-practices-to-scale-apache-spark-jobs-and-partition-data-with-aws-glue/">Best practices to scale Apache Spark jobs and partition data with AWS Glue</a>, improving greatly the performance of the process for importing large data exports.</p>

<p>Small data exports, processed with the <code>controlshift-redshift-loader</code> Lambda function will also take advantage of the compression on source files by performing the correct <a href="https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-source-s3.html"><code>COPY</code> command</a> on Redshift to process the compressed files directly without needing to decompress.</p>

<aside class="notice">
Toggling the <strong>Compress bulk data exports</strong> setting requires updating the configuration for the <code>controlshift-redshift-loader</code> Lambda function that processes small data exports. To do this, you will need to manually delete all the items of the <code>LambdaRedshiftBatchLoadConfig</code> Dynamo table and then re-apply the Terraform plan to fetch the current configuration from your ControlShift instance and generate the correct configuration records for the lambda function.
</aside>
<h3 id='bulk-data-controlshift-to-redshift-pipeline-more-information'>More information.</h3>
<p>More information is available on the READMEs for the various projects that this integration is composed from. We can also provide assistance
for customers configuring these tools via support@controlshiftlabs.com</p>
<h1 id='authenticated-rest-api'>Authenticated REST API</h1>
<p>The Authenticated REST API allows customers to build applications that interact with their own data or securely grant access to third-party app developers without exposing administrative credentials. It is designed to be consumed server-side, in contrast to the JSONP API which is designed for unauthenticated javascript integrations.</p>

<p>We use <a href="http://oauth.net/2/">OAuth2</a> to allow organizations to securely grant access to API Applications. OAuth2 is a standardized protocol that allows user credentials to be exchanged for a secret token which can then be used to access an API. There are OAuth2 implementations available for most common programming languages. You&#39;ll probably want to read some general documentation on how OAuth2 works before attempting to use this API.</p>

<p>An <em>API Application</em> must be configured within your ControlShift instance before using the API. Access is then granted to this application, and exchanged for a token which is used to authenticate your access to API endpoints.</p>

<p>If you&#39;re synchronizing data from ControlShift into another system then the Webhooks API is likely a better choice for that use case. </p>
<h2 id='authenticated-rest-api-rate-limits'>Rate Limits</h2>
<p>We apply the following per-domain rate limits on HTTP requests made to the API:</p>

<ul>
<li><strong>OAuth Token exchange (<code>/oauth/token</code>)</strong>: 10 requests per minute.</li>
<li><strong>Authenticated REST API (<code>/api/v1/*</code>)</strong>: 1000 requests per minute.</li>
</ul>

<p>Once the limit is reached, we will return an HTTP response with status code <code>429 - Too Many Requests</code> and the following headers:</p>

<ul>
<li><code>RateLimit-Limit</code>: returns the number of requests per minute allowed on the endpoint, values will match the ones listed above depending if you are invoking the <em>OAuth Token Exchange</em> or one of the <em>Authenticated REST API</em> endpoints.</li>
<li><code>RateLimit-Remaining</code>: this header will always have <code>0</code> as value, since this response is only returned when the rate limit has been reached.</li>
<li><code>RateLimit-Reset</code>: returns the number of seconds until the current rate limit is reset.</li>
</ul>
<h2 id='authenticated-rest-api-quickstart-guide'>Quickstart Guide</h2>
<ol>
<li><p><strong>Set up a new API Application</strong> Log in as an Organisation Owner and navigate to Settings &gt; Integrations &gt; REST API Apps. Add a New Application. Use <code>urn:ietf:wg:oauth:2.0:oob</code> as the callback URL unless you plan to allow self-service application authorization.</p></li>
<li><p>Clone the <a href="https://github.com/controlshift/oauth-api-example">oauth-api-example</a> github repo.</p></li>
<li><p>Follow the instructions in the README.md file to get that example working with your credentials.</p></li>
<li><p>Do something similar in your actual code.</p></li>
</ol>

<p><strong>Note</strong>: Access tokens have a 2 hours expiration, after that period you can use the old token to generate a new one.</p>
<h2 id='authenticated-rest-api-organisation'>Organisation</h2><h3 id='authenticated-rest-api-organisation-retrieve'>Retrieve</h3>
<p>Get up to date statistics about the current organisation.</p>

<blockquote>
<p>GET /api/v1/organisation</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"organisation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"petitions_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signatures_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blast_emails_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"members_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='authenticated-rest-api-email-opt-in-types'>Email Opt In Types</h2><h3 id='authenticated-rest-api-email-opt-in-types-list'>List</h3>
<p>Get a list of the email opt in types that have been configured for this organisation. </p>

<p>Email opt in types represent the way that members have opted in to your email list. </p>
<h4 id='authenticated-rest-api-email-opt-in-types-list-context'>Context</h4>
<p>The context this opt in type was displayed to users in.</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>web_form</td>
<td>an action on the web</td>
</tr>
<tr>
<td>email</td>
<td>in a confirmation email</td>
</tr>
<tr>
<td>offline</td>
<td>collected offline via a paper form</td>
</tr>
<tr>
<td>external</td>
<td>represents opt ins gathered in other systems</td>
</tr>
</tbody></table>
<h4 id='authenticated-rest-api-email-opt-in-types-list-kind'>Kind</h4>
<p>The sort of opt in that was gathered</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email_confirmation</td>
<td>an action on the web</td>
</tr>
<tr>
<td>implicit</td>
<td>a message displayed while taking action</td>
</tr>
<tr>
<td>offline</td>
<td>collected offline via a paper form</td>
</tr>
<tr>
<td>unchecked_checkbox</td>
<td>a checkbox that began unchecked</td>
</tr>
<tr>
<td>physical_signature</td>
<td>a wet ink signature</td>
</tr>
<tr>
<td>pre_checked_checkbox</td>
<td>a checkbox that began checked</td>
</tr>
<tr>
<td>radio</td>
<td>a radio button with yes/no options</td>
</tr>
</tbody></table>
<h4 id='authenticated-rest-api-email-opt-in-types-list-active'>Active</h4>
<p>This parameter is true if the opt in type is currently being used in it&#39;s specified context.</p>
<h4 id='authenticated-rest-api-email-opt-in-types-list-mailable'>Mailable</h4>
<p>Whether this opt-in type should be considered valid for email.</p>
<h4 id='authenticated-rest-api-email-opt-in-types-list-external_id'>external_id</h4>
<p>External IDs are set by customers through the admin interface while configuring opt in types. You can use them to match up email opt in types
with your external systems, or to refer to email opt in types consistently through this API. </p>

<blockquote>
<p>GET /api/v1/organisation/email_opt_in_types</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"email_opt_in_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"implicit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-external-id"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='authenticated-rest-api-consent-content-versions'>Consent Content Versions</h2><h3 id='authenticated-rest-api-consent-content-versions-list'>List</h3>
<p>Get a list of the Data Processing Consent Content Versions that have been configured for this organisation. </p>

<p>These content versions track changes to the Terms of Service, Privacy Policy and Data Processing Consent disclaimers. </p>

<blockquote>
<p>GET /api/v1/organisation/consent_content_versions</p>
</blockquote>
<h2 id='authenticated-rest-api-members'>Members</h2>
<p>The platform transparently creates a member record for any email address that creates a user account, signs a petition, or attends an event.</p>

<p>Members are unique by email address, and all platform activity is tracked by member id.</p>

<p>When someone signs a petition or attends an event, we lookup the email address to see if they have taken action before
and either reuse the existing member record or create a new one if your organisation has not interacted with that
person before.</p>

<div></div>
<h3 id='authenticated-rest-api-members-lookup'>Lookup</h3>
<blockquote>
<p>GET response body for Lookup</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01T15:37:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-01T11:23:45Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">

    </span><span class="nl">"data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"consented_to_latest_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">

      </span><span class="nl">"most_recent_consent_from_member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"consented_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T04:00Z"</span><span class="p">,</span><span class="w">

        </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def456"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T23:59Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Find a member by email address. Once you have obtained a member id you can use this identifier in other API calls.</p>

<p><code>GET /api/v1/members/lookup?email=foo@bar.com</code></p>

<div></div>
<h3 id='authenticated-rest-api-members-show'>Show</h3>
<blockquote>
<p>GET response body for Show</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01T15:37:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-07-01T11:23:45Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123"</span><span class="p">,</span><span class="w">

    </span><span class="nl">"data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"consented_to_latest_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">

      </span><span class="nl">"most_recent_consent_from_member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"consented_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-01T04:00Z"</span><span class="p">,</span><span class="w">

        </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def456"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-12-31T23:59Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Find a member by id.</p>

<p>The <code>data_processing_consent</code> block is only present when the data processing consent feature is enabled.</p>

<p><code>GET /api/v1/members/123</code></p>

<div></div>
<h3 id='authenticated-rest-api-members-activity'>Activity</h3>
<blockquote>
<p>GET response body for Activity</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-06-01T15:37:47Z"</span><span class="p">,</span><span class="w">

  </span><span class="nl">"signatures"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save-the-whales"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get information about a member&#39;s activity on the platform. This can be useful if you&#39;re building a member dashboard that includes information from ControlShift and other toolsets.</p>

<p>The member activity report includes basic biographical information as well as petitions created or signed, events hosted or attended, group memberships, forum posts, partnership subscriptions, and unsubscribe history.</p>

<p><code>GET /api/v1/members/123/activity</code></p>

<div></div>
<h3 id='authenticated-rest-api-members-destroy'>Destroy</h3>
<blockquote>
<p>DELETE response body for Destroy</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Permanently deletes a member with specified id and all associated records including petitions, signatures, events. The deletion feature is designed to honor requests from members around the right to be forgotten.</p>

<p><code>DELETE /api/v1/members/123</code></p>

<p>Deletes are synchronous and may take several seconds depending on how many resources are owned by the member.</p>

<p>Ownership of Petitions and Events created by the deleted member will be re-assigned to the user account specified in the organisation&#39;s settings.</p>

<div></div>
<h3 id='authenticated-rest-api-members-anonymize'>Anonymize</h3>
<blockquote>
<p>POST response body for Anonymize</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Anonymizes the member with specified id. This permanently deletes the member and all associated signatures. However, petition signatures from the anonymized member are preserved, anonymized, on petition data exports, signature counts, and petition letters. The method of anonymization is configured in organisation name privacy settings.</p>

<p><code>POST /api/v1/members/123/anonymize</code></p>

<p>Anonymization is synchronous and may take several seconds depending on how many resources are owned by the member.</p>

<p>Ownership of Petitions and Events created by the deleted member will be re-assigned to the user account specified in the organisation&#39;s settings.</p>

<div></div>
<h3 id='authenticated-rest-api-members-unsubscribe'>Unsubscribe</h3>
<blockquote>
<p>POST response body for Unsubscribe</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Unsubscribes a member with specified id from emails from event hosts and petiton creators. Member will still receive transactional emails, and will be resubscribed if they opt in while signing a new petition or attending a new event, etc.</p>

<p><code>POST /api/v1/members/123/unsubscribe</code></p>

<div></div>
<h3 id='authenticated-rest-api-members-update-email-opt-in-type'>Update Email Opt In Type</h3><h4 id='authenticated-rest-api-members-update-email-opt-in-type-post-body'>POST body</h4>
<p><code>external_id=foo</code></p>

<p>Changes the email opt in type for the member with the specified id to the external id in the POST body. This will update the opt in type for
all associated signatures, attendee records, user accounts and other data held by ControlShift to the opt in type specified by external_id.</p>

<p>This feature may be useful for upgrading the recorded consent when new consent for email communications has been collected in external systems.</p>

<p>Most likely you will be changing historical consents that may no longer be mailable for legal reasons to a new mailable consent type.</p>

<p>No history is stored recording the original consent type, it is replaced by the new one specified.</p>

<p><code>POST /api/v1/members/123/update_email_opt_in_type</code></p>

<div></div>
<h2 id='authenticated-rest-api-petitions'>Petitions</h2>
<p>Petition are pieces of content that can be signed by members.</p>
<h3 id='authenticated-rest-api-petitions-show'>Show</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"admin_events_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"teatime"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"campaigner_contactable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"can_download_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1776-12-16T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We will throw the petition into the harbor."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://facebook.com/example"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/do-not-tax-our-tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_petition_creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_recent_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_signature_form"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"petition_creator_name_override"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anonymous Tea Enthusiast"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"show_progress_bar"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count_add_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"homepage"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1776-12-16T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop taxing our tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"King George"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No taxation without representation!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/no-taxes-on-tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public_who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George III, King of Great Britain"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"won"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We overthrew the government and they don't tax our tea anymore."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended_story"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This was an overwhelming success!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open_graph"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/petitions/images/25/open_graph/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"horizontal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/petitions/images/25/horizontal/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/petitions/images/25/hero/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/petitions/images/25/original/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"form"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/petitions/images/25/form/a-little-teapot.png?1516647704"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Picture of a small teapot with flowers on it and money tucked under the lid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"public_signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"legacy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"An older note about this campaign"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-25T23:45:12Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We should have a call with this campaigner but they have no telephone."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-10-09T12:34:45Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"organiser_2@example.com"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sarah Organiser"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Patrick Henry"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Patrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Henry"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"patrick.henry@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alexander Hamilton"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alex.hamilton@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thomas Jefferson"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"thomas.jefferson@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-444-3333"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boston harbor"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.3376368"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-70.99304"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boston Harbor"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-16T22:38:29Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"decision_makers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"king-george"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George III"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"King of Great Britain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buckingham palace"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"51.501364"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.1440787"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buckingham Palace"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SW1A 1AA"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UK"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-16T22:38:29Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"effort"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxation-without-representation"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"the-american-revolution"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The American Revolution!"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Tea related"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"taxes"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"avoidingtaxes"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avoiding Taxes"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boats"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Boats"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find information about a petition by URL slug.</p>

<p><code>GET /api/v1/petitions/no-taxes-on-tea</code></p>

<p>The <code>slug</code> used to identify a petition for API purposes is the same as the <code>slug</code> that appears in the member-facing petition page URL.
For example, for a petition whose petition page is at <code>https://demo.controlshiftlabs.com/petitions/save-our-library</code>,
the petition <code>slug</code> is <code>save-our-library</code>.</p>

<div></div>
<h3 id='authenticated-rest-api-petitions-list'>List</h3>
<blockquote>
<p>GET response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop-burning-coal-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop Burning Coal"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">

  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a paginated list of all petitions, including ones that are unlaunched or otherwise not visible to the public. Includes all the same data as the single-petition endpoint for each petition.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<p><code>GET /api/v1/petitions?page=1</code></p>

<div></div>
<h3 id='authenticated-rest-api-petitions-create'>Create</h3>
<blockquote>
<p>POST /api/v1/petitions</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop taxing our tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No taxation without representation!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Tax Policy"</span><span class="p">,</span><span class="w"> </span><span class="s2">"End Colonialism"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Patrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Henry"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"patrick.henry@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George III"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"King of Great Britain"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american-whigs"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new-york-city"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"admin_events_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"campaigner_contactable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"can_download_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1776-12-16T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_goal"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_petition_creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_recent_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_signature_form"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"petition_creator_name_override"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"show_progress_bar"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count_add_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1776-12-16T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop taxing our tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No taxation without representation!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/no-taxes-on-tea"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public_who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George III, King of Great Britain"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public_signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_notes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Patrick Henry"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Patrick"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Henry"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"patrick.henry@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"decision_makers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"George III"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"george-iii"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"King of Great Britain"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"effort"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american-whigs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Whigs in the American Colonies"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tax-policy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tax Policy"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"end-colonialism-now"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End Colonialism"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a new petition.</p>

<p><code>POST /api/v1/petitions</code></p>

<p>If a <code>creator</code> is specified, that user will become the petition&#39;s leader, and will receive an email asking them to confirm that they are leading the petition.
Once the leader confirms, the petition will work the same way as a petition created via the web UI.
The URL in the response is the public petition page where supporters can sign the petition.
To update a petition after creation, use the returned <code>slug</code> with the <a href="#authenticated-rest-api-petitions-update">Petition Update</a> endpoint.</p>

<p>The request body should be a JSON block containing one <code>&quot;petition&quot;</code> object, which can have the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the petition creator via the public petition page</td>
<td>no; default is <code>true</code></td>
</tr>
<tr>
<td>categories</td>
<td>List of Strings</td>
<td>Names of categories that should be applied to the new petition. Must be categories that already exist. If category names are translated, the original/main language names should be used here.</td>
<td>no</td>
</tr>
<tr>
<td>creator</td>
<td>User block (<a href="#json-type-user">see below</a>)</td>
<td>User who will be the petition leader. If a user account does not already exist with this email, we will create one.</td>
<td>no; default is no leader</td>
</tr>
<tr>
<td>delivery_details</td>
<td>String</td>
<td>How the petition will be delivered</td>
<td>no</td>
</tr>
<tr>
<td>external_facebook_page</td>
<td>String</td>
<td>URL of a facebook page for the campaign</td>
<td>no</td>
</tr>
<tr>
<td>external_site</td>
<td>String</td>
<td>URL of a website about the campaign</td>
<td>no</td>
</tr>
<tr>
<td>group[slug]</td>
<td>String</td>
<td>Unique identifier for an existing group this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>hide_petition_creator</td>
<td>Boolean</td>
<td>Whether to suppress the display of the petition creator’s name on the petition page</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>hide_recent_signers</td>
<td>Boolean</td>
<td>Whether to suppress the &quot;recently signed&quot; and &quot;recently shared&quot; display</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>labels</td>
<td>List of Strings</td>
<td>Labels that should be applied to the new petition. Any labels that do not already exist will be created</td>
<td>no</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>The ISO 639-1 two-letter code for the language the petition content is in. Must be one of the languages supported by ControlShift.</td>
<td>no; defaults to organisation&#39;s default language</td>
</tr>
<tr>
<td>location</td>
<td>Location block (<a href="#json-type-location">see below</a>)</td>
<td>Information about the location associated with the petition. If latitude and longitude are included, we’ll use them. Otherwise, we’ll geocode the fields provided.</td>
<td>no</td>
</tr>
<tr>
<td>partnership[slug]</td>
<td>String</td>
<td>Unique identifier for an existing partnership this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>petition_creator_name_override</td>
<td>String</td>
<td>Name to display on the petition page instead of the creator&#39;s account name</td>
<td>no</td>
</tr>
<tr>
<td>region[slug]</td>
<td>String</td>
<td>Unique identifier for an existing region this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>source</td>
<td>String</td>
<td>Optional, open-ended string representing where this petition came from</td>
<td>no; default is &quot;API&quot;</td>
</tr>
<tr>
<td>targets</td>
<td>List of 0-1 Target blocks (<a href="#json-type-target">see below</a>)</td>
<td>Decision makers for this petition. If a block includes a <code>slug</code>, we’ll use it to look up an existing decision maker. Otherwise, we’ll try to create a new one. Any decision maker created this way will be set to &quot;published&quot;. Specifying more than one decision maker is not yet supported.</td>
<td>no; default is no decision maker</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title of the petition</td>
<td>yes</td>
</tr>
<tr>
<td>what</td>
<td>String</td>
<td>Text of the petition ask</td>
<td>yes</td>
</tr>
<tr>
<td>who</td>
<td>String</td>
<td>Who the petition is addressed to</td>
<td>yes, unless <code>targets</code> includes a decision maker</td>
</tr>
<tr>
<td>why</td>
<td>String</td>
<td>Text explaining why the petition is important</td>
<td>yes</td>
</tr>
</tbody></table>

<p><a name="json-type-location"></a></p>

<p>A Location block is a JSON object with some or all of the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>country</td>
<td>String</td>
<td>ISO 3166-1 two-letter code for the country</td>
</tr>
<tr>
<td>latitude</td>
<td>Floating-point number</td>
<td>Latitude</td>
</tr>
<tr>
<td>locality</td>
<td>String</td>
<td>City</td>
</tr>
<tr>
<td>longitude</td>
<td>Floating-point number</td>
<td>Longitude</td>
</tr>
<tr>
<td>postal_code</td>
<td>String</td>
<td>Postcode / ZIP code</td>
</tr>
<tr>
<td>region</td>
<td>String</td>
<td>State/province/etc.</td>
</tr>
<tr>
<td>street</td>
<td>String</td>
<td>Street name</td>
</tr>
<tr>
<td>street_number</td>
<td>String</td>
<td>Street number (e.g. &quot;123&quot; in &quot;123 Main Street&quot;)</td>
</tr>
<tr>
<td>venue</td>
<td>String</td>
<td>Venue name</td>
</tr>
</tbody></table>

<p>If the block does not include latitude and longitude, it must include country and at least one of locality, region, or postal code, so that we can geocode the location.</p>

<p><a name="json-type-target"></a>
A Target block is a JSON object that has either the unique <strong>slug</strong> of an existing decision maker, like this:</p>

<p><code>{&quot;slug&quot;: &quot;president-joe-biden&quot;}</code></p>

<p>or a set of the following properties for creating a new decision maker:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>context</td>
<td>String</td>
<td>Job title or additional context about the decision maker</td>
<td>no</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Email address for contacting the decision maker</td>
<td>no</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Decision maker&#39;s name</td>
<td>yes</td>
</tr>
<tr>
<td>phone_number</td>
<td>String</td>
<td>Phone number for contacting the decision maker</td>
<td>no</td>
</tr>
</tbody></table>

<p><a name="json-type-user"></a></p>

<p>A User block is a JSON object with some or all of the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>String</td>
<td>Email address</td>
<td>yes</td>
</tr>
<tr>
<td>first_name</td>
<td>String</td>
<td>First/given name</td>
<td>no</td>
</tr>
<tr>
<td>last_name</td>
<td>String</td>
<td>Last/family name</td>
<td>no</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>The ISO 639-1 two-letter code for the user&#39;s preferred language. Must be one of the languages supported by ControlShift.</td>
<td>no; defaults to organisation&#39;s default language</td>
</tr>
<tr>
<td>phone_number</td>
<td>String</td>
<td>Phone number</td>
<td>no</td>
</tr>
<tr>
<td>postcode</td>
<td>String</td>
<td>Postcode / ZIP code</td>
<td>no</td>
</tr>
</tbody></table>

<div></div>

<p><a name="authenticated-rest-api-petitions-update"></a></p>
<h3 id='authenticated-rest-api-petitions-update'>Update</h3>
<blockquote>
<p>PUT request body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"signature_count_add_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the content and/or settings of the petition whose slug is in the URL.</p>

<p><code>PUT /api/v1/petitions/no-taxes-on-tea</code></p>

<p>The request body should contain only the fields you would like to update, in JSON format. All other fields will be left unchanged.</p>

<p>The fields that can be changed this way are:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>admin_events_status</td>
<td>String</td>
<td>Whether the petition creator can create events associated with the petition. Must be one of &quot;on&quot; (events can be created), &quot;off&quot; (events cannot be created), or &quot;auto&quot; (use the default setting based on moderation status and number of signatures).</td>
</tr>
<tr>
<td>alias</td>
<td>String</td>
<td>Used for the petition&#39;s short URL. Setting <code>alias</code> to &quot;foo&quot; will result in a short URL of /p/foo</td>
</tr>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the petition creator via the public petition page</td>
</tr>
<tr>
<td>can_download_signers</td>
<td>Boolean</td>
<td>Whether the petition creator can download information about petition signers</td>
</tr>
<tr>
<td>categories_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change which categories the petition is in</td>
</tr>
<tr>
<td>custom_goal</td>
<td>Integer</td>
<td>Signature goal displayed on the petition page. Set to <code>null</code> to automatically calculate the goal from the current signature total.</td>
</tr>
<tr>
<td>delivery_details</td>
<td>String</td>
<td>&quot;How do you plan to deliver the petition?&quot; text</td>
</tr>
<tr>
<td>delivery_details_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the delivery details</td>
</tr>
<tr>
<td>external_facebook_page</td>
<td>String</td>
<td>URL of a Facebook page associated with the petition</td>
</tr>
<tr>
<td>external_facebook_page_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the Facebook page URL</td>
</tr>
<tr>
<td>external_site</td>
<td>String</td>
<td>URL of a non-ControlShift page associated with the petition</td>
</tr>
<tr>
<td>external_site_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the external site URL</td>
</tr>
<tr>
<td>hide_petition_creator</td>
<td>Boolean</td>
<td>Do not display the petition creator&#39;s name or profile picture on the petition page</td>
</tr>
<tr>
<td>hide_recent_signers</td>
<td>Boolean</td>
<td>Do not display the list of recent signers on the petition page</td>
</tr>
<tr>
<td>hide_signature_form</td>
<td>Boolean</td>
<td>Turn off the form that allows people to sign the petition via the petition page</td>
</tr>
<tr>
<td>petition_creator_name_override</td>
<td>String</td>
<td>Name to display for the petition creator on the petition page. Set to <code>null</code> to use the name from the petition creator&#39;s user account.</td>
</tr>
<tr>
<td>redirect_to</td>
<td>String</td>
<td>If set, visitors to the petition page will be redirected to this URL</td>
</tr>
<tr>
<td>show_progress_bar</td>
<td>Boolean</td>
<td>Whether to show the signature progress bar on the petition page</td>
</tr>
<tr>
<td>signature_count_add_amount</td>
<td>Integer</td>
<td>If set, the displayed signature total on the petition page will be this much higher than the actual number of signatures recorded by the platform. This is usually used to reflect signatures that were gathered elsewhere and cannot be added to the platform, or signers whose data has been anonymized. A negative number can be specified to subtract from the total.</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Petition title</td>
</tr>
<tr>
<td>title_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the title</td>
</tr>
<tr>
<td>what</td>
<td>String</td>
<td>Petition text</td>
</tr>
<tr>
<td>what_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the &quot;what&quot; field</td>
</tr>
<tr>
<td>who</td>
<td>String</td>
<td>Name of the person this petition is targeting. Petitions associated with a decision maker will not necessarily use this setting.</td>
</tr>
<tr>
<td>who_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the &quot;who&quot; field</td>
</tr>
<tr>
<td>why</td>
<td>String</td>
<td>&quot;Why is this important?&quot; text</td>
</tr>
<tr>
<td>why_locked</td>
<td>Boolean</td>
<td>Petition creator cannot change the &quot;why&quot; field</td>
</tr>
</tbody></table>

<div></div>
<h3 id='authenticated-rest-api-petitions-update-images'>Update images</h3>
<p>The image shown on the petition page can be updated by making a PUT request with the new image as the body of the request.</p>

<p><code>PUT /api/v1/petitions/no-taxes-on-tea/images/image</code></p>

<p>To remove the image without replacing it, perform a DELETE request to the same URL.</p>

<p><code>DELETE /api/v1/petitions/no-taxes-on-tea/images/image</code></p>

<p>It&#39;s possible to specify a different image that will be used when the petition page is shared on social media via a request to</p>

<p><code>PUT /api/v1/petitions/no-taxes-on-tea/images/social_share_image</code></p>
<h3 id='authenticated-rest-api-petitions-destroy'>Destroy</h3>
<blockquote>
<p>DELETE response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Petition has been scheduled for deletion."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Permanently deletes the petition and all associated information including signature data via an HTTP DELETE request.</p>

<p>This is an asynchronous task, so while API calls will return with a success message immediately
it may take up to several minutes for the petition and all of its data to be completely
destroyed.</p>

<p><code>DELETE /api/v1/petitions/no-taxes-on-tea</code></p>

<div></div>

<h3 id='authenticated-rest-api-members-apply-label'>Apply Label</h3>

<blockquote>
<p>POST request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We Love Tea!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Applies an existing Label to a specific petition.</p>

<p><strong>Note:</strong> Currently it is not possible to create Labels via the API. The Label needs to already exist to allow tagging the petition with it.</p>

<p>The request body must include a <code>name</code> attribute with the name of the label to be applied to the petition.</p>

<p><code>POST /api/v1/petitions/no-taxes-on-tea/labelings</code></p>

<p>Response on success will not have a body, and status code will be <code>201 - Created</code></p>

<p>This example would apply the &quot;We Love Tea!&quot; label to the petition.</p>

<div></div>

<h3 id='authenticated-rest-api-members-remove-label'>Remove Label</h3>

<p>Removes a Label from the petition.</p>

<p>The name of the Label must be included in the URL and be correctly percent encoded as per RFC 3986.</p>

<p>Response on success will not have a body, and status code will be <code>200 - Ok</code></p>

<p><code>DELETE /api/v1/petitions/no-taxes-on-tea/labelings/We%20Love%20Tea%21</code></p>

<p>This example would remove the &quot;We Love Tea!&quot; label from the petition.</p>

<h3 id='authenticated-rest-api-members-assign-mentor'>Assign Mentor</h3>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzie Greenberg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Assigns an admin user as the mentor for the petition.</p>

<p>The email address specified will be used to look up an admin user who will be assigned as the petition&#39;s mentor.</p>

<p><code>PUT /api/v1/petitions/no-taxes-on-tea/mentor</code></p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>To remove the mentor from the petition, the request body should include <code>null</code> instead of the email block.</p>

<div></div>

<h3 id='authenticated-rest-api-members-assign-reviewer'>Assign Reviewer</h3>

<p>To allow delegation of moderation tasks to specific people or teams, the platform allows specifying a reviewer for each petition.</p>

<p>Staff are able to filter the moderation queue to just the tasks that have been assigned to them through the ControlShift platform web interface. </p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzie Greenberg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moderation-helpers"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moderation Helpers"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moderation-helpers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Assigns an admin user or team as the reviewer for the petition that is pending moderation.</p>

<p>The email address or team slug will be used to look up an admin user or team that will be assigned to review the petition.</p>

<p><code>PUT /api/v1/petitions/no-taxes-on-tea/reviewer</code></p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>To remove the reviewer from the petition, the request body should include <code>null</code> instead of the email or slug block.</p>
<h2 id='authenticated-rest-api-signatures'>Signatures</h2>
<p>Signatures are actions that people have taken on Petitions. All signature actions are namespaced by URL underneath the petitions that the signature
was recorded against.</p>
<h3 id='authenticated-rest-api-signatures-lookup'>Lookup</h3>
<blockquote>
<p>GET response body for Lookup</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcDEFghi123456789jklMNO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.123.123.123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data_processing_consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio_sure"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111222333</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-organisation.controlshiftlabs.com/petitions/no-taxes-on-tea"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find a specific signature by email address. Once you have obtained a signature id you can use this identifier in other API calls.</p>

<p><code>GET /api/v1/petitions/no-taxes-on-tea/signatures/lookup?email=foo@bar.com</code></p>

<div></div>
<h3 id='authenticated-rest-api-signatures-create'>Create</h3>
<p>Creates a new signature for the specified petition. This API endpoint can be used to record externally collected signatures for
a particular petition within your instance of the ControlShift platform.</p>

<p>All of the same post-signature actions that the platform usually supports including webhooks, CRM syncs, and other integrations
will still be triggered, in the same way they are for normal signatures.</p>

<p>For organisations that require email confirmation, a confirmation email will be sent to the action taker.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Explanation</th>
</tr>
</thead><tbody>
<tr>
<td><code>signature[first_name]</code></td>
<td>The first name of the member who took action, required.</td>
</tr>
<tr>
<td><code>signature[last_name]</code></td>
<td>The last name of the member who took action, required.</td>
</tr>
<tr>
<td><code>signature[email]</code></td>
<td>The email address of the member who took action, required.</td>
</tr>
<tr>
<td><code>signature[postcode]</code></td>
<td>The postal or zip code of the member. Depending on your platform settings this may be a required field. Depending on your configuration, this may be validated for your country.</td>
</tr>
<tr>
<td><code>signature[phone_number]</code></td>
<td>The phone number of the member who took action. Depending on your platform settings this may be a required field.</td>
</tr>
<tr>
<td><code>signature[locale]</code></td>
<td>The language and localization setting of the member who has taken action. This is specified as an <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO_639-1</a> two-character language code combined with an optional <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO 3166</a> two character country code. For eg <code>en-US</code> or <code>en</code>. This is an optional field, if not provided will be set to <code>en</code> by default.</td>
</tr>
<tr>
<td><code>signature[country]</code></td>
<td>The country specified as an <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO 3166</a> two character country code. This may be optional or required depending on your platform configuration.</td>
</tr>
<tr>
<td><code>signature[email_opt_in_type_external_id]</code></td>
<td>The External ID for the ControlShift email opt in type to use for this action. The email opt in type must have &quot;external&quot; context. You can list available email opt in types with <a href="https://developers.controlshiftlabs.com/#email-opt-in-types">this endpoint</a>. This is a required field.</td>
</tr>
<tr>
<td><code>signature[join_organisation]</code></td>
<td>Whether or not the member has opted in to email communications from this campaign and organisation. This may be optional if you are using email confirmation for members actions.</td>
</tr>
<tr>
<td><code>signature[join_partnership]</code></td>
<td>For partnership campaigns, whether or not this member has opted into communication from the partnership, optional.</td>
</tr>
<tr>
<td><code>signature[eu_data_processing_consent]</code></td>
<td>Whether or not member has given consent for GDPR data processing. This field must be true if the organisation requires data processing consent for user actions with <code>use_eu_data_processing_consent = true</code>.</td>
</tr>
<tr>
<td><code>signature[consent_content_version_external_id]</code></td>
<td>The External ID for the data processing consent content version the member has consented to on this action. The consent content version tracks what the privacy policy, terms of service, and checkbox label were at the time of this action. You can list available consent content versions via <a href="https://developers.controlshiftlabs.com/#consent-content-versions">this endpoint</a>. This field is required if the organisation requires data processing consent for user actions <code>use_eu_data_processing_consent = true</code>.</td>
</tr>
<tr>
<td><code>signature[utm_source]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>signature[utm_campaign]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>signature[utm_content]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>signature[utm_medium]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>signature[utm_term]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
</tbody></table>

<p><code>POST /api/v1/petitions/no-taxes-on-tea/signatures/</code></p>

<div></div>
<h4 id='authenticated-rest-api-signatures-create-post-body'>POST body</h4>
<p><code>signature[first_name]=Ada&amp;signature[last_name]=Lovelave&amp;signature[email]=ada@lovelace.com&amp;signature[postcode]=12345</code></p>

<blockquote>
<p>POST response body for create</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcDEFghi123456789jklMNO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.123.123.123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data_processing_consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio_sure"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111222333</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-organisation.controlshiftlabs.com/petitions/no-taxes-on-tea"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<div></div>
<h3 id='authenticated-rest-api-signatures-update-email-opt-in-type'>Update email opt in type</h3>
<p>Updates the email opt in type associated with a single signature. This can be used to change the email opt in type
if a more legally compliant form of consent was gathered elsewhere. The email opt in type for the signature is updated
to the opt in type specified by <code>external_id</code>.</p>

<p>No history is stored recording the original consent type, it is replaced by the new one specified in the API call.</p>

<p><code>POST /api/v1/petitions/no-taxes-on-tea/signatures/123</code></p>

<div></div>
<h4 id='authenticated-rest-api-signatures-update-email-opt-in-type-post-body'>POST body</h4>
<p><code>external_id=foo</code></p>

<div></div>
<h3 id='authenticated-rest-api-signatures-destroy'>Destroy</h3>
<blockquote>
<p>DELETE response body for Destroy</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Permanently deletes the signature with the specified ID. Note that this will decrement the signature count on the petition.</p>

<p><code>DELETE /api/v1/petitions/no-taxes-on-tea/signatures/123</code></p>

<div></div>
<h3 id='authenticated-rest-api-signatures-list'>List</h3>
<blockquote>
<p>GET response body for List</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"signatures"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country_without_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"from_embed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_signed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user_agent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10010"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcDEFghi123456789jklMNO"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.123.123.123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_processing_consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio_sure"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111222333</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-organisation.controlshiftlabs.com/petitions/no-taxes-on-tea"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>List the signatures that are part of a Petition.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>petition</td>
<td>basic information about the petition</td>
</tr>
<tr>
<td>signatures</td>
<td>an array of signature results</td>
</tr>
</tbody></table>

<p><code>GET /api/v1/petitions/no-taxes-on-tea/signatures?page=2</code></p>

<div></div>
<h3 id='authenticated-rest-api-signatures-unsubscribe'>Unsubscribe</h3>
<blockquote>
<p>POST response body for Unsubscribe</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You have successfully unsubscribed from the petition."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Unsubscribes a member who has signed the petition from any emails sent by petition creator. They will still receive transactional emails.</p>

<p><code>POST /api/v1/petitions/no-taxes-on-tea/signatures/123/unsubscribe</code></p>

<div></div>
<h2 id='authenticated-rest-api-efforts-and-landing-pages'>Efforts and Landing Pages</h2>
<p>Efforts and Landing Pages are both collections of related petitions.
In efforts, each petition must be associated with a specific decision maker or objective,
while landing pages allow for simply grouping petitions together without the structure of decision makers or objectives.</p>

<p>Within the API, both Efforts and Landing Pages use the <code>efforts</code> URLs.</p>
<h3 id='authenticated-rest-api-efforts-and-landing-pages-create-petition'>Create Petition</h3>
<blockquote>
<p>POST /api/v1/efforts/hardware-stores-stop-selling-bee-poison/petitions</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Hardware, Stop Selling Bee Poison!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Hammer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manager at Acme Hardware"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop selling pesticides containing neonicotinoids, which the EPA has found harmful to bees."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pollinators are important."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Hardware"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main St"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"admin_events_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auto"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"admin_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"good"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"alias"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"campaigner_contactable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"can_download_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_goal"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"goal"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_petition_creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_recent_signers"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_signature_form"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"petition_creator_name_override"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"show_progress_bar"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature_count_add_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acme-hardware-stop-selling-bee-poison-23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Hardware, Stop Selling Bee Poison!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop selling pesticides containing neonicotinoids, which the EPA has found harmful to bees."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pollinators are important."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"what_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"who_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"why_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delivery_details_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_facebook_page_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_site_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"categories_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/acme-hardware-stop-selling-bee-poison-23"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public_who"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Hammer, Manager at Acme Hardware"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ended"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"public_signature_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.345</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-34.567</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Hardware, 123 Main St, Chicago, IL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main St"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acme Hardware"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T21:32Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"decision_makers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Hammer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"joe-hammer"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manager at Acme Hardware"</span><span class="p">,</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"effort"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hardware-stores-stop-selling-bee-poison"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a new petition in the effort or landing page.</p>

<p><code>POST /api/v1/efforts/hardware-stores-stop-selling-bee-poison/petitions</code></p>

<p>If a <code>creator</code> is specified, that user will become the petition&#39;s leader, and will receive an email asking them to confirm that they are leading the petition.
Once the leader confirms, the petition will work the same way as a petition created via the web UI.
The URL in the response is the public petition page where supporters can sign the petition.
To update a petition after creation, use the returned <code>slug</code> with the <a href="#authenticated-rest-api-petitions-update">Petition Update</a> endpoint.</p>

<p>Depending on how the effort or landing page is configured, several attributes may be set automatically on the created petition:</p>

<ul>
<li>Image</li>
<li>Whether to show the progress bar</li>
<li>Whether any of the title, who, what, or why fields are locked</li>
</ul>

<p>The request body should be a JSON block containing one <code>&quot;petition&quot;</code> object, which can have the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the petition creator via the public petition page</td>
<td>no; default is <code>true</code></td>
</tr>
<tr>
<td>categories</td>
<td>List of Strings</td>
<td>Names of categories that should be applied to the new petition, in addition to any default categories configured for the effort/landing page. Must be categories that already exist. If category names are translated, the original/main language names should be used here.</td>
<td>no; default is the categories configured on the effort/landing page</td>
</tr>
<tr>
<td>creator</td>
<td>User block (<a href="#json-type-user">see above</a>)</td>
<td>User who will be the petition leader. If a user account does not already exist with this email, we will create one.</td>
<td>no; default is no leader</td>
</tr>
<tr>
<td>delivery_details</td>
<td>String</td>
<td>How the petition will be delivered</td>
<td>no</td>
</tr>
<tr>
<td>external_facebook_page</td>
<td>String</td>
<td>URL of a facebook page for the campaign</td>
<td>no</td>
</tr>
<tr>
<td>external_site</td>
<td>String</td>
<td>URL of a website about the campaign</td>
<td>no</td>
</tr>
<tr>
<td>group[slug]</td>
<td>String</td>
<td>Unique identifier for an existing group this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>hide_petition_creator</td>
<td>Boolean</td>
<td>Whether to suppress the display of the petition creator’s name on the petition page</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>hide_recent_signers</td>
<td>Boolean</td>
<td>Whether to suppress the &quot;recently signed&quot; and &quot;recently shared&quot; display</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>labels</td>
<td>List of Strings</td>
<td>Labels that should be applied to the new petition. Any labels that do not already exist will be created</td>
<td>no</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>The ISO 639-1 two-letter code for the language the petition content is in. Must be one of the languages supported by ControlShift.</td>
<td>no; defaults to organisation&#39;s default language</td>
</tr>
<tr>
<td>location</td>
<td>Location block (<a href="#json-type-location">see above</a>)</td>
<td>Information about the location associated with the petition. If latitude and longitude are included, we’ll use them. Otherwise, we’ll geocode the fields provided.</td>
<td>no; default is the location of the decision maker or objective in an effort, or no location in a landing page</td>
</tr>
<tr>
<td>objective[slug]</td>
<td>String</td>
<td>Unique identifier for an existing objective this petition should be associated with. Only available within an &quot;objectives&quot; effort, and must be one of the objectives configured for that effort.</td>
<td>only if the effort is an objectives effort</td>
</tr>
<tr>
<td>partnership[slug]</td>
<td>String</td>
<td>Unique identifier for an existing partnership this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>petition_creator_name_override</td>
<td>String</td>
<td>Name to display on the petition page instead of the creator&#39;s account name</td>
<td>no</td>
</tr>
<tr>
<td>region[slug]</td>
<td>String</td>
<td>Unique identifier for an existing region this petition should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>source</td>
<td>String</td>
<td>Optional, open-ended string representing where this petition came from</td>
<td>no; default is &quot;API&quot;</td>
</tr>
<tr>
<td>targets</td>
<td>List of 0-1 Target blocks (<a href="#json-type-target">see above</a>)</td>
<td>Decision makers for this petition. If a block includes a <code>slug</code>, we’ll use it to look up an existing decision maker. Otherwise, we’ll try to create a new one. In a decision-makers-based effort, the specified decision maker will be added to the effort if it is not already associated with it. Any decision maker created this way will be set to &quot;published&quot;. Specifying more than one decision maker is not yet supported.</td>
<td>no; default is no decision maker</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title of the petition. If a title is specified, it will be used, even if there is a different default.</td>
<td>yes, unless a default title has been specified for the effort/landing page</td>
</tr>
<tr>
<td>what</td>
<td>String</td>
<td>Text of the petition ask. If a value is specified, it will be used, even if there is a different default.</td>
<td>yes, unless a default &quot;what&quot; has been specified for the effort/landing page</td>
</tr>
<tr>
<td>who</td>
<td>String</td>
<td>Who the petition is addressed to. If a value is specified, it will be used, even if there is a different default.</td>
<td>yes, unless a default &quot;who&quot; has been specified for the effort/landing page or <code>targets</code> includes a decision maker</td>
</tr>
<tr>
<td>why</td>
<td>String</td>
<td>Text explaining why the petition is important. If a value is specified, it will be used, even if there is a different default.</td>
<td>yes, unless a default &quot;why&quot; has been specified for the effort/landing page</td>
</tr>
</tbody></table>

<div></div>
<h2 id='authenticated-rest-api-partnerships'>Partnerships</h2>
<p>Partnerships are other organisations you collaborate with using the platform.</p>
<h3 id='authenticated-rest-api-partnerships-list'>List</h3>
<blockquote>
<p>GET response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"partnerships"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fight-fascism"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fight Fascism"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fighting fascism one day at a time. With petitions."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-fascism-123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-02T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-02T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/partnerships/fight-fascism"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"open_graph"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/open_graph/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"horizontal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/horizontal/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/hero/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/original/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"form"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/form/a-little-teapot.png?1516647704"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">107</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save-whales"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Save the Whales"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're devoted to all policies that are good for whales."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-02T12:32:45Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-22T01:43:17Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/partnerships/save-whales"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a paginated list of all partnerships.</p>

<p><code>GET /api/v1/partnerships?page=1</code></p>

<div></div>
<h3 id='authenticated-rest-api-partnerships-show'>Show</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fight-fascism"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fight Fascism"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fighting fascism one day at a time. With petitions."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-fascism-123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-02T01:43:17Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-12-02T01:43:17Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/partnerships/fight-fascism"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"open_graph"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/open_graph/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"horizontal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/horizontal/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hero"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/hero/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/original/a-little-teapot.png?1516647704"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"form"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://cdn.example.com/partnerships/images/25/form/a-little-teapot.png?1516647704"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find information about a partnership by URL slug.</p>

<p><code>GET /api/v1/partnerships/fight-fascism</code></p>

<p>The <code>slug</code> used to identify a partnership for API purposes is the same as the <code>slug</code> that appears in member-facing URLs.
For example, for a partnership whose member-facing hub is at <code>https://demo.controlshiftlabs.com/partnerships/new-york-for-clean-water</code>,
the partnership <code>slug</code> is <code>new-york-for-clean-water</code>.</p>

<div></div>
<h3 id='authenticated-rest-api-partnerships-list-petitions'>List Petitions</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fight Fascism"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fight-fascism"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"petitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no-taxes-on-tea"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No Taxes on Tea"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop-burning-coal-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stop Burning Coal"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">

  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves a paginated list of a partnership&#39;s petitions.</p>

<p><code>GET /api/v1/partnerships/fight-fascism/petitions</code></p>

<div></div>
<h3 id='authenticated-rest-api-partnerships-list-events'>List Events</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fight Fascism"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fight-fascism"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"house-party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"House Party for Justice"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"big-rally"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A big rally"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">

  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves a paginated list of a partnership&#39;s events.</p>

<p><code>GET /api/v1/partnerships/fight-fascism/events</code></p>

<div></div>
<h2 id='authenticated-rest-api-events'>Events</h2>
<p>Events represent real-world or virtual meetings that members can RSVP to. RSVP records are called &quot;attendees&quot;.</p>
<h3 id='authenticated-rest-api-events-list'>List</h3>
<blockquote>
<p>GET response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deliver the Petition to the Wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Join us as we travel to the Emerald City to deliver our petition to the Wizard."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T12:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:30:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"start_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T12:00:00-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:30:00-05:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"launched_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-03T12:34:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"host_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_attendees_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"control-shift-deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wizard room"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.3376368"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-70.99304"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Wizard's Throne Room"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-16T22:38:29Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lunch"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T12:00:00Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:00:00Z"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"105"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Demonstration"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:00:00Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:30:00Z"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repair-the-yellow-brick-road-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/repair-the-yellow-brick-road-1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"oz-organizer-help"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a paginated list of all events, including ones that are unlaunched or otherwise not visible to the public. Includes all the same data as the single-event endpoint for each event.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<p><code>GET /api/v1/events?page=1</code></p>

<div></div>
<h3 id='authenticated-rest-api-events-show'>Show</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deliver the Petition to the Wizard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Join us as we travel to the Emerald City to deliver our petition to the Wizard."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T12:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:30:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T12:00:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-01T13:30:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-03T12:34:56Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_attendees_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"control-shift-deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wizard room"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42.3376368"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-70.99304"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Wizard's Throne Room"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-16T22:38:29Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glinda the Good"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glinda@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"petition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repair-the-yellow-brick-road-1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/petitions/repair-the-yellow-brick-road-1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"oz-organizer-help"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find information about an event by URL slug.</p>

<p><code>GET /api/v1/events/deliver-the-petition-to-the-wizard</code></p>

<p>The <code>slug</code> used to identify a event for API purposes is the same as the <code>slug</code> that appears in the member-facing event page URL.
For example, for a event whose event page is at <code>https://demo.controlshiftlabs.com/events/chapter-meeting-1</code>,
the event <code>slug</code> is <code>chapter-meeting-1</code>.</p>

<div></div>
<h3 id='authenticated-rest-api-events-create'>Create</h3>
<blockquote>
<p>POST /api/v1/events</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"March Against Gun Violence"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're going to meet at the park and march to City Hall. Bring a sign!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T15:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T17:30-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gabrielle"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Giffords"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gabrielle.giffords@example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Street"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kansas City"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coalition-for-gun-reform"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"gun-control topic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"congress"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new-york-city"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"march-against-gun-violence-1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"March Against Gun Violence"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/march-against-gun-violence-1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're going to meet at the park and march to City Hall. Bring a sign!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T20:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T22:30Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T15:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T17:30-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-23T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_attendees_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.168100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-94.776063</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kansas City"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Park, 123 Main Street, Kansas City, KS 12345, US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Street"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City Park"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-23T21:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra_location_info"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Protest"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"local_chapter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Coalition for Gun Reform"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coalition-for-gun-reform"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/groups/coalition-for-gun-reform"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"gun-control topic"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"congress"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"campaigner_contactable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event_host_name_override"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"forum_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hidden_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hide_recent_attendees"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirect_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sharing_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"web_conference_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a new event.</p>

<p><code>POST /api/v1/events</code></p>

<p>If the event is created successfully, the host will receive an email asking them to confirm that they are hosting.
Once the host confirms, the event will work the same way as an event created via the web UI.
The URL in the response is the public event page where members can RSVP.
To update an event after creation, use the returned <code>slug</code> with the <a href="#authenticated-rest-api-events-update">Event Update</a> endpoint.</p>

<p>The request body should be a JSON block containing one <code>&quot;event&quot;</code> object, which can have the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the event host via the public event page</td>
<td>no; default is <code>true</code></td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the event</td>
<td>yes</td>
</tr>
<tr>
<td>end_at</td>
<td>String</td>
<td>ISO 8601 date/time that the event ends</td>
<td>no; default is no specific end time</td>
</tr>
<tr>
<td>event_host_name_override</td>
<td>String</td>
<td>Name to display on the event page instead of the host’s account name</td>
<td>no</td>
</tr>
<tr>
<td>event_type[id]</td>
<td>Integer</td>
<td>Unique ID of an existing Event Type that should be set on the event</td>
<td>no</td>
</tr>
<tr>
<td>extra_location_info</td>
<td>String</td>
<td>Information about the event’s location</td>
<td>no</td>
</tr>
<tr>
<td>forum_enabled</td>
<td>Boolean</td>
<td>Whether the forum on the event page should be enabled</td>
<td>no; defaults to organisation setting</td>
</tr>
<tr>
<td>group[slug]</td>
<td>String</td>
<td>Unique identifier for an existing group this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>hidden_address</td>
<td>Boolean</td>
<td>Whether the event’s full address should be obscured before RSVP</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>hide_recent_attendees</td>
<td>Boolean</td>
<td>Whether to suppress the display of attendee’s names in the &quot;recently shared&quot; display.</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>host</td>
<td>User block (<a href="#json-type-user">see above</a>)</td>
<td>User who will host the event. If a user account does not already exist with this email, we will create one.</td>
<td>yes</td>
</tr>
<tr>
<td>labels</td>
<td>List of Strings</td>
<td>Labels that should be applied to the new event. Any labels that do not already exist will be created</td>
<td>no</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>The ISO 639-1 two-letter code for the language the event content is in. Must be one of the languages supported by ControlShift.</td>
<td>no; defaults to organisation&#39;s default language</td>
</tr>
<tr>
<td>location</td>
<td>Location block (<a href="#json-type-location">see above</a>)</td>
<td>Information about either the exact location of an in-person event, or the location a virtual event is relevant to. May be omitted entirely for a virtual event that doesn&#39;t have a specific audience location. If latitude and longitude are included, we’ll use them. Otherwise, we’ll geocode the fields provided.</td>
<td>only for in-person events</td>
</tr>
<tr>
<td>max_attendees_count</td>
<td>Integer</td>
<td>Maximum number of attendees allowed</td>
<td>no</td>
</tr>
<tr>
<td>partnership[slug]</td>
<td>String</td>
<td>Unique identifier for an existing partnership this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>region[slug]</td>
<td>String</td>
<td>Unique identifier for an existing region this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>start_at</td>
<td>String</td>
<td>ISO 8601 date/time that the event starts</td>
<td>yes</td>
</tr>
<tr>
<td>time_zone</td>
<td>String</td>
<td>tz database code for the event’s time zone (e.g. &quot;America/New_York&quot;)</td>
<td>yes</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title of the event</td>
<td>yes</td>
</tr>
<tr>
<td>virtual</td>
<td>Boolean</td>
<td>Whether this is a virtual event</td>
<td>no; defaults to the organisation default for new events</td>
</tr>
<tr>
<td>web_conference_url</td>
<td>String</td>
<td>URL for a Zoom or other virtual meeting associated with this event</td>
<td>no</td>
</tr>
</tbody></table>

<div></div>

<p><a name="authenticated-rest-api-events-update"></a></p>
<h3 id='authenticated-rest-api-events-update'>Update</h3>
<blockquote>
<p>PUT request body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're going to meet at the park and march to City Hall. Bring a sign!"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_attendees_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the content and/or settings of the event whose slug is in the URL.</p>

<p><code>PUT /api/v1/events/march-against-gun-violence</code></p>

<p>The request body should contain only the fields you would like to update, in JSON format. All other fields will be left unchanged.</p>

<p>The fields that can be changed this way are:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the event host via the public event page</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the event</td>
</tr>
<tr>
<td>event_host_name_override</td>
<td>String</td>
<td>Name to display for the event host on the event page. Set to <code>null</code> to use the name from the event host&#39;s user account.</td>
</tr>
<tr>
<td>extra_location_info</td>
<td>String</td>
<td>Additional non-address information about the event&#39;s location, e.g. &quot;7th floor&quot; or &quot;Park in the back parking lot&quot;</td>
</tr>
<tr>
<td>forum_enabled</td>
<td>Boolean</td>
<td>Enables or disables the discussion forum feature for the event&#39;s attendees</td>
</tr>
<tr>
<td>hidden_address</td>
<td>Boolean</td>
<td>Indicates that the event&#39;s address is private. The city/locality will be shown on the web, but the full address will only be provided to members who RSVP to the event.</td>
</tr>
<tr>
<td>hide_recent_attendees</td>
<td>Boolean</td>
<td>Do not display the names of people who recently RSVPed in the post-RSVP sharing prompt.</td>
</tr>
<tr>
<td>host_address</td>
<td>String</td>
<td>The mailing address of the event host. May be used to mail event materials.</td>
</tr>
<tr>
<td>max_attendees_count</td>
<td>Integer</td>
<td>Limit on how many people, besides the host, may sign up for this event. Set to <code>null</code> for no limit.</td>
</tr>
<tr>
<td>redirect_to</td>
<td>String</td>
<td>If set, visitors to the event page will be redirected to this URL</td>
</tr>
<tr>
<td>sharing_disabled</td>
<td>Boolean</td>
<td>Turns off the social sharing prompts for the event</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Event title</td>
</tr>
<tr>
<td>web_conference_url</td>
<td>String</td>
<td>Video call or web conference tool URL for attendees to access the event</td>
</tr>
</tbody></table>

<div></div>
<h3 id='authenticated-rest-api-events-update-image'>Update image</h3>
<p>The image shown on the event page can be updated by making a PUT request with the new image as the body of the request.</p>

<p><code>PUT /api/v1/events/march-against-gun-violence/images/image</code></p>

<p>To remove the image without replacing it, perform a DELETE request to the same URL.</p>

<p><code>DELETE /api/v1/events/march-against-gun-violence/images/image</code></p>

<h3 id='authenticated-rest-api-partnerships-apply-label'>Apply Label</h3>

<blockquote>
<p>POST request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We Love Tea!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Applies an existing Label to a specific event.</p>

<p><strong>Note:</strong> Currently it is not possible to create Labels via the API. The Label needs to already exist to allow tagging the event with it.</p>

<p>The request body must include a <code>name</code> attribute with the name of the label to be applied to the event.</p>

<p><code>POST /api/v1/events/deliver-the-petition-to-the-wizard/labelings</code></p>

<p>Response on success will not have a body, and status code will be <code>201 - Created</code></p>

<p>This example would apply the &quot;We Love Tea!&quot; label to the event.</p>

<div></div>

<h3 id='authenticated-rest-api-partnerships-remove-label'>Remove Label</h3>

<p>Removes a Label from the event.</p>

<p>The name of the Label must be included in the URL and be correctly percent encoded as per RFC 3986.</p>

<p>Response on success will not have a body, and status code will be <code>200 - Ok</code></p>

<p><code>DELETE /api/v1/events/deliver-the-petition-to-the-wizard/labelings/We%20Love%20Tea%21</code></p>

<p>This example would remove the &quot;We Love Tea!&quot; label from the event.</p>

<h3 id='authenticated-rest-api-partnerships-assign-mentor'>Assign Mentor</h3>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzie Greenberg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Assigns an admin user as the mentor for the event.</p>

<p>The email address specified will be used to look up an admin user who will be assigned as the event&#39;s mentor.</p>

<p><code>PUT /api/v1/events/deliver-the-petition-to-the-wizard/mentor</code></p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>To remove the mentor from the event, the request body should include <code>null</code> instead of the email block.</p>

<div></div>

<h3 id='authenticated-rest-api-partnerships-assign-reviewer'>Assign Reviewer</h3>

<p>To allow delegation of moderation tasks to specific people or teams, the platform allows specifying a reviewer for each event.</p>

<p>Staff are able to filter the moderation queue to just the tasks that have been assigned to them through the ControlShift platform web interface. </p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzie Greenberg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moderation-helpers"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Team"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Moderation Helpers"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moderation-helpers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Assigns an admin user or team as the reviewer for the event that is pending moderation.</p>

<p>The email address or team slug will be used to look up an admin user or team that will be assigned to review the event.</p>

<p><code>PUT /api/v1/events/deliver-the-petition-to-the-wizard/reviewer</code></p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"reviewer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>To remove the reviewer from the event, the request body should include <code>null</code> instead of the email or slug block.</p>
<h2 id='authenticated-rest-api-attendees'>Attendees</h2>
<p>Attendees are member RSVPs to an Event. All attendee actions are namespaced by URL underneath the events that the attendee was recorded against.</p>
<h3 id='authenticated-rest-api-attendees-lookup'>Lookup</h3>
<blockquote>
<p>GET response body for Lookup</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"attendee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"notification_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"all_messages"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123-456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10010"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abcDEFghi123456789jklMNO"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.123.123.123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio_sure"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111222333</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-organisation.controlshiftlabs.com/events/deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliver-the-petition-to-the-wizard"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find an attendee by email address. Once you have obtained the attendee&#39;s id you can use this identifier in other API calls.</p>

<p><code>GET /api/v1/events/deliver-the-petition-to-the-wizard/attendees/lookup?email=foo@bar.com</code></p>

<div></div>
<h3 id='authenticated-rest-api-attendees-create'>Create</h3>
<p>Creates a new attendee for the specified event. This API endpoint can be used to record externally collected RSVPs for
a particular event within your instance of the ControlShift platform.</p>

<p>All of the same post-RSVP actions that the platform usually supports including webhooks, CRM syncs, and other integrations
will still be triggered, in the same way they are for normal RSVPs.</p>

<p>For organisations that require email confirmation, a confirmation email will be sent to the action taker.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Explanation</th>
</tr>
</thead><tbody>
<tr>
<td><code>attendee[first_name]</code></td>
<td>The first name of the member who took action, required.</td>
</tr>
<tr>
<td><code>attendee[last_name]</code></td>
<td>The last name of the member who took action, required.</td>
</tr>
<tr>
<td><code>attendee[email]</code></td>
<td>The email address of the member who took action, required.</td>
</tr>
<tr>
<td><code>attendee[postcode]</code></td>
<td>The postal or zip code of the member. Depending on your platform settings this may be a required field. Depending on your configuration, this may be validated for your country.</td>
</tr>
<tr>
<td><code>attendee[phone_number]</code></td>
<td>The phone number of the member who took action. Depending on your platform settings this may be a required field.</td>
</tr>
<tr>
<td><code>attendee[locale]</code></td>
<td>The language and localization setting of the member who has taken action. This is specified as an <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO_639-1</a> two-character language code combined with an optional <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO 3166</a> two character country code. For eg <code>en-US</code> or <code>en</code>. This is an optional field, if not provided will be set to <code>en</code> by default.</td>
</tr>
<tr>
<td><code>attendee[country]</code></td>
<td>The country specified as an <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO 3166</a> two character country code. This may be optional or required depending on your platform configuration.</td>
</tr>
<tr>
<td><code>attendee[email_opt_in_type_external_id]</code></td>
<td>The External ID for the ControlShift email opt in type to use for this action. The email opt in type must have &quot;external&quot; context. You can list available email opt in types with <a href="https://developers.controlshiftlabs.com/#email-opt-in-types">this endpoint</a>. This is a required field.</td>
</tr>
<tr>
<td><code>attendee[join_organisation]</code></td>
<td>Whether or not the member has opted in to email communications from this campaign and organisation. This may be optional if you are using email confirmation for members actions.</td>
</tr>
<tr>
<td><code>attendee[join_partnership]</code></td>
<td>For partnership campaigns, whether or not this member has opted into communication from the partnership, optional.</td>
</tr>
<tr>
<td><code>attendee[eu_data_processing_consent]</code></td>
<td>Whether or not member has given consent for GDPR data processing. This field must be true if the organisation requires data processing consent for user actions with <code>use_eu_data_processing_consent = true</code>.</td>
</tr>
<tr>
<td><code>attendee[consent_content_version_external_id]</code></td>
<td>The External ID for the data processing consent content version the member has consented to on this action. The consent content version tracks what the privacy policy, terms of service, and checkbox label were at the time of this action. You can list available consent content versions via <a href="https://developers.controlshiftlabs.com/#consent-content-versions">this endpoint</a>. This field is required if the organisation requires data processing consent for user actions <code>use_eu_data_processing_consent = true</code>.</td>
</tr>
<tr>
<td><code>attendee[utm_source]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>attendee[utm_campaign]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>attendee[utm_content]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>attendee[utm_medium]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
<tr>
<td><code>attendee[utm_term]</code></td>
<td>UTM tracking field, optional.</td>
</tr>
</tbody></table>

<p><code>POST /api/v1/events/deliver-the-petition-to-the-wizard/attendees/</code></p>

<div></div>
<h4 id='authenticated-rest-api-attendees-create-post-body'>POST body</h4>
<p><code>attendee[first_name]=Ada&amp;attendee[last_name]=Lovelace&amp;attendee[email]=ada@lovelace.com&amp;attendee[postcode]=12345</code></p>

<blockquote>
<p>POST response body for create</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"attendee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"notification_level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attending_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"attending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"additional_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">880</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T14:08:53Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-17T20:36:36Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unsubscribe_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ada@lovelace.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed_reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ada"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_organisation"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_partnership"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lovelace"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"new_mobile_subscriber"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efxqQSMHj1UidVLppu3eT17H"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_ip"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_campaign"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_content"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_medium"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_source"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"utm_term"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"join_group"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"eu_data_processing_consent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consent_content_version"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"data_processing_consent_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"explicit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email_opt_in_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_form"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"kind"</span><span class="p">:</span><span class="w"> </span><span class="s2">"radio_sure"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mailable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"member"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1124</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-28T20:50:38Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-organisation.controlshiftlabs.com/events/deliver-the-petition-to-the-wizard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliver-the-petition-to-the-wizard"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<div></div>
<h3 id='authenticated-rest-api-attendees-update-email-opt-in-type'>Update email opt in type</h3>
<p>Updates the email opt in type associated with a single attendee. This can be used to change the email opt in type
if a more legally compliant form of consent was gathered elsewhere. The email opt in type for the attendee is updated
to the opt in type specified by <code>external_id</code>.</p>

<p>No history is stored recording the original consent type, it is replaced by the new one specified in the API call.</p>

<p><code>POST /api/v1/events/deliver-the-petition-to-the-wizard/attendees/123</code></p>
<h4 id='authenticated-rest-api-attendees-update-email-opt-in-type-post-body'>POST body</h4>
<p><code>external_id=foo</code></p>

<div></div>
<h3 id='authenticated-rest-api-attendees-destroy'>Destroy</h3>
<blockquote>
<p>DELETE response body for Destroy</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"attendee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Permanently deletes the attendee with the specified ID.</p>

<p><code>DELETE /api/v1/events/deliver-the-petition-to-the-wizard/attendees/123</code></p>

<div></div>
<h3 id='authenticated-rest-api-attendees-list'>List</h3>
<p>List the attendees that have RSVPed to an Event.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>event</td>
<td>basic information about the event</td>
</tr>
<tr>
<td>attendees</td>
<td>an array of attendee results</td>
</tr>
</tbody></table>

<p><code>GET /api/v1/events/deliver-the-petition-to-the-wizard/attendees?page=2</code></p>

<div></div>
<h3 id='authenticated-rest-api-attendees-unsubscribe'>Unsubscribe</h3>
<blockquote>
<p>POST response body for Unsubscribe</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"attendee"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"unsubscribed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You have successfully unsubscribed from the event."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Unsubscribes a member who has RSVPed to the event from any emails sent by event host. They will still receive transactional emails.</p>

<p><code>POST /api/v1/events/deliver-the-petition-to-the-wizard/attendees/123/unsubscribe</code></p>

<div></div>
<h2 id='authenticated-rest-api-calendars'>Calendars</h2>
<p>Calendars are collections of related events.</p>
<h3 id='authenticated-rest-api-calendars-show'>Show</h3>
<blockquote>
<p>GET response Body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"calendar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movie Screenings For Healthcare Access"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're watching this amazing and powerful movie about the fight for health care for all."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie-screenings-for-healthcare-access"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/calendars/movie-screenings-for-healthcare-access"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partnership"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"space-captains-for-health-care"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/partnerships/space-captains-for-health-care"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Find information about a calendar by URL slug.</p>

<p><code>GET /api/v1/calendars/movie-screenings-for-healthcare-access</code></p>

<p>The <code>slug</code> used to identify a calendar for API purposes is the same as the <code>slug</code> that appears in member-facing URLs.
For example, for a calendar whose member-facing hub is at <code>https://demo.controlshiftlabs.com/calendars/day-of-action-for-justice</code>,
the calendar <code>slug</code> is <code>day-of-action-for-justice</code>.</p>

<div></div>
<h3 id='authenticated-rest-api-calendars-list-events'>List Events</h3>
<p>List the events that are part of a Calendar. </p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned. </p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>calendar</td>
<td>basic information about the calendar</td>
</tr>
<tr>
<td>events</td>
<td>an array of event results</td>
</tr>
</tbody></table>

<p><code>GET /api/v1/calendars/movie-screenings-for-healthcare-access/events?page=2</code></p>
<h3 id='authenticated-rest-api-calendars-create-event'>Create Event</h3>
<blockquote>
<p>POST /api/v1/calendars/movie-screenings-for-healthcare-access/events</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movie Screening at the Community Center"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're going to watch this amazing movie"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T15:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T17:30-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cori"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bush"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cori.bush@example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"host_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Congressional Office, 6724-A Page Ave., St. Louis, MO 63133"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Community Center"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Street"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kansas City"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"extra_location_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We'll be in the multi-purpose room on the first floor."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"health care"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Response body</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie-screening-at-the-community-center-2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movie Screening at the Community Center"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/events/movie-screening-at-the-community-center-2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We're going to watch this amazing movie"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T20:00Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T22:30Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T15:00-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"end_in_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-06-01T17:30-05:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Chicago"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"virtual"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"launched_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-23T21:32Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-US"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Congressional Office, 6724-A Page Ave., St. Louis, MO 63133"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"max_attendees_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.168100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-94.776063</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locality"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kansas City"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Community Center, 123 Main Street, Kansas City, KS 12345, US"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Street"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"street_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"venue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Community Center"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-23T21:32Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extra_location_info"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We'll be in the multi-purpose room on the first floor."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"event_type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movie Screening"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shifts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"calendar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movie Screenings For Healthcare Access"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie-screenings-for-healthcare-access"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://demo.controlshiftlabs.com/calendars/movie-screenings-for-healthcare-access"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"health care"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Create a new event in the calendar.</p>

<p><code>POST /api/v1/calendars/movie-screenings-for-healthcare-access/events</code></p>

<p>If the event is created successfully, the host will receive an email asking them to confirm that they are hosting.
Once the host confirms, the event will work the same way as an event created via the web UI.
The URL in the response is the public event page where members can RSVP.
To update an event after creation, use the returned <code>slug</code> with the <a href="#authenticated-rest-api-events-update">Event Update</a> endpoint.</p>

<p>The request body should be a JSON block containing one <code>&quot;event&quot;</code> object, which can have the following properties:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
<th>Required?</th>
</tr>
</thead><tbody>
<tr>
<td>campaigner_contactable</td>
<td>Boolean</td>
<td>Whether members of the public can contact the event host via the public event page</td>
<td>no; default is <code>true</code></td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the event</td>
<td>yes</td>
</tr>
<tr>
<td>end_at</td>
<td>String</td>
<td>ISO 8601 date/time that the event ends</td>
<td>no; default is no specific end time</td>
</tr>
<tr>
<td>event_host_name_override</td>
<td>String</td>
<td>Name to display on the event page instead of the host’s account name</td>
<td>no</td>
</tr>
<tr>
<td>event_type[id]</td>
<td>Integer</td>
<td>Unique ID of an existing Event Type that should be set on the event</td>
<td>no</td>
</tr>
<tr>
<td>extra_location_info</td>
<td>String</td>
<td>Information about the event’s location</td>
<td>no</td>
</tr>
<tr>
<td>forum_enabled</td>
<td>Boolean</td>
<td>Whether the forum on the event page should be enabled</td>
<td>no; defaults to calendar setting or organisation setting</td>
</tr>
<tr>
<td>group[slug]</td>
<td>String</td>
<td>Unique identifier for an existing group this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>hidden_address</td>
<td>Boolean</td>
<td>Whether the event’s full address should be obscured before RSVP</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>hide_recent_attendees</td>
<td>Boolean</td>
<td>Whether to suppress the display of attendee’s names in the &quot;recently shared&quot; display.</td>
<td>no; default is <code>false</code></td>
</tr>
<tr>
<td>host</td>
<td>User block (<a href="#json-type-user">see above</a>)</td>
<td>User who will host the event. If a user account does not already exist with this email, we will create one.</td>
<td>yes</td>
</tr>
<tr>
<td>host_address</td>
<td>String</td>
<td>Host&#39;s mailing address</td>
<td>only if the calendar requires it</td>
</tr>
<tr>
<td>labels</td>
<td>List of Strings</td>
<td>Labels that should be applied to the new event. Any labels that do not already exist will be created</td>
<td>no</td>
</tr>
<tr>
<td>locale</td>
<td>String</td>
<td>The ISO 639-1 two-letter code for the language the event content is in. Must be one of the languages supported by ControlShift.</td>
<td>no; defaults to organisation&#39;s default language</td>
</tr>
<tr>
<td>location</td>
<td>Location block (<a href="#json-type-location">see above</a>)</td>
<td>Information about either the exact location of an in-person event, or the location a virtual event is relevant to. May be omitted entirely for a virtual event that doesn&#39;t have a specific audience location. If latitude and longitude are included, we’ll use them. Otherwise, we’ll geocode the fields provided.</td>
<td>only for in-person events</td>
</tr>
<tr>
<td>max_attendees_count</td>
<td>Integer</td>
<td>Maximum number of attendees allowed</td>
<td>no</td>
</tr>
<tr>
<td>partnership[slug]</td>
<td>String</td>
<td>Unique identifier for an existing partnership this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>region[slug]</td>
<td>String</td>
<td>Unique identifier for an existing region this event should be associated with</td>
<td>no</td>
</tr>
<tr>
<td>start_at</td>
<td>String</td>
<td>ISO 8601 date/time that the event starts</td>
<td>yes</td>
</tr>
<tr>
<td>target[slug]</td>
<td>String</td>
<td>Unique identifier for an existing decision maker this event should be associated with. Only relevant for constituency-bound calendars, where it must belong to the decision maker collection associated with the calendar.</td>
<td>only in constituency-bound calendars</td>
</tr>
<tr>
<td>time_zone</td>
<td>String</td>
<td>tz database code for the event’s time zone (e.g. &quot;America/New_York&quot;)</td>
<td>yes</td>
</tr>
<tr>
<td>title</td>
<td>String</td>
<td>Title of the event</td>
<td>yes</td>
</tr>
<tr>
<td>virtual</td>
<td>Boolean</td>
<td>Whether this is a virtual event</td>
<td>no; defaults to the organisation default for new events</td>
</tr>
<tr>
<td>web_conference_url</td>
<td>String</td>
<td>URL for a Zoom or other virtual meeting associated with this event</td>
<td>no</td>
</tr>
</tbody></table>

<div></div>
<h2 id='authenticated-rest-api-event-types'>Event Types</h2><h3 id='authenticated-rest-api-event-types-list'>List</h3>
<blockquote>
<p>GET /api/v1/event_types</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event_types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Training"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"localized_names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"es"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capacitación"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Entraînement"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-02-01T10:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc-123"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canvassing"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"localized_names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"es"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campaña puerta a puerta"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Démarchage"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-03-15T12:30:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-01T11:28:13Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fde-953"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">

  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"current_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"previous_page"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"next_page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of the event types that have been configured for this organisation. Event types are used for categorizing events (e.g.: House Parties, Fundraising, Training, etc.), and for CRMs supporting event type synchronization, we include the the event&#39;s type while syncing.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<p><code>GET /api/v1/event_types/?page=1</code></p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>event_types</td>
<td>an array of information about the event types</td>
</tr>
</tbody></table>

<p>The <code>external_id</code> field will only be included if an integration with a CRM supporting event types synchronization is in place.</p>

<p>If the integration with EveryAction/VAN is set up for the organization, the following fields will also be included in the response:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>attendee_attended_status_id</td>
<td>ID of the status for attendees marked as Attended</td>
</tr>
<tr>
<td>attendee_attending_status_id</td>
<td>ID of the status for attendees marked as Attending</td>
</tr>
<tr>
<td>attendee_confirmed_status_id</td>
<td>ID of the status for attendees marked as Confirmed</td>
</tr>
<tr>
<td>attendee_default_role_id</td>
<td>ID of the default role for event attendees</td>
</tr>
<tr>
<td>attendee_not_attending_status_id</td>
<td>ID of the status for attendees marked as Not Coming</td>
</tr>
<tr>
<td>attendee_no_show_status_id</td>
<td>ID of the status for attendees marked as No Show</td>
</tr>
<tr>
<td>attendee_waiting_list_status_id</td>
<td>ID of the status for attendees marked as On Waiting List</td>
</tr>
<tr>
<td>host_default_role_id</td>
<td>ID of the default role for event hosts</td>
</tr>
</tbody></table>
<h2 id='authenticated-rest-api-groups'>Groups</h2>
<p>Groups are organized groups of supporters that host events and create petitions.
They may be associated with a specific location or geographic region, or they may be &quot;virtual&quot; groups that organize around a topic.</p>

<p>In API responses and other data sets, Groups are sometimes referred to as &quot;local chapters&quot;. This is merely an artifact of how data is stored within the platform; the two terms can be used interchangeably.</p>
<h3 id='authenticated-rest-api-groups-list'>List</h3>
<p>Get a paginated list of all groups and information about each of them.</p>

<p>This is a paginated response. You can advance to the next page using the page parameter, which accepts a page number integer.
By default the first page is returned.</p>

<p><code>GET /api/v1/local_chapters/?page=1</code></p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>local_chapters</td>
<td>an array of information about the local chapters</td>
</tr>
</tbody></table>

<div></div>
<h3 id='authenticated-rest-api-groups-show'>Show</h3>
<p>Find information about a group by URL slug.</p>

<p><code>GET /api/v1/local_chapters/save-gotham</code></p>

<p>The <code>slug</code> used to identify a group for API purposes is the same as the <code>slug</code> that appears in the member-facing group page URL.
For example, for a group whose group page is at <code>https://demo.controlshiftlabs.com/groups/brooklyn-for-bike-lanes</code>,
the group <code>slug</code> is <code>brooklyn-for-bike-lanes</code>.</p>

<div></div>
<h3 id='authenticated-rest-api-groups-group-members'>Group Members</h3>
<p>Retrieve a paginated list of all of the people who are members of a particular group.</p>

<p><code>GET /api/v1/local_chapters/save-gotham/members</code></p>

<table><thead>
<tr>
<th>Hash</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>meta</td>
<td>pagination information</td>
</tr>
<tr>
<td>local_chapter</td>
<td>Basic information about the group</td>
</tr>
<tr>
<td>members</td>
<td>Array of information about each supporter in this group</td>
</tr>
</tbody></table>

<h3 id='authenticated-rest-api-event-types-apply-label'>Apply Label</h3>

<blockquote>
<p>POST request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We Love Tea!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Applies an existing Label to a specific group.</p>

<p><strong>Note:</strong> Currently it is not possible to create Labels via the API. The Label needs to already exist to allow tagging the group with it.</p>

<p>The request body must include a <code>name</code> attribute with the name of the label to be applied to the group.</p>

<p><code>POST /api/v1/local-chapters/tea-drinking-society/labelings</code></p>

<p>Response on success will not have a body, and status code will be <code>201 - Created</code></p>

<p>This example would apply the &quot;We Love Tea!&quot; label to the group.</p>

<div></div>

<h3 id='authenticated-rest-api-event-types-remove-label'>Remove Label</h3>

<p>Removes a Label from the group.</p>

<p>The name of the Label must be included in the URL and be correctly percent encoded as per RFC 3986.</p>

<p>Response on success will not have a body, and status code will be <code>200 - Ok</code></p>

<p><code>DELETE /api/v1/local-chapters/tea-drinking-society/labelings/We%20Love%20Tea%21</code></p>

<p>This example would remove the &quot;We Love Tea!&quot; label from the group.</p>

<h3 id='authenticated-rest-api-event-types-assign-mentor'>Assign Mentor</h3>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>PUT request response</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suzie@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"member_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"full_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suzie Greenberg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Assigns an admin user as the mentor for the group.</p>

<p>The email address specified will be used to look up an admin user who will be assigned as the group&#39;s mentor.</p>

<p><code>PUT /api/v1/local-chapters/tea-drinking-society/mentor</code></p>

<blockquote>
<p>PUT request body</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mentor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>To remove the mentor from the group, the request body should include <code>null</code> instead of the email block.</p>
<h2 id='authenticated-rest-api-webhook-endpoints'>Webhook Endpoints</h2>
<p>Webhooks can be used by software engineers to integrate ControlShift with third-party systems. They allow engineers to build software that is triggered by events that take place within ControlShift. This authenticated endpoint provides status information about webhook endpoints.</p>

<p>This is useful for customers who would like to build automated reporting to detect when webhooks have been disabled or are setup incorrectly. </p>
<h3 id='authenticated-rest-api-webhook-endpoints-list-webhook-endpoints'>List Webhook Endpoints</h3>
<p>Show information about all of the webhook endpoints configured for organisation</p>

<p><code>GET /api/v1/webhook_endpoints</code></p>

<blockquote>
<p>GET response body for Index (List)</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"organisation_id"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://example.com/test1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2019-06-19T15:02:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2019-06-19T15:02:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled_at"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_failure"</span><span class="p">:</span><span class="kc">null</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"organisation_id"</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="s2">"https://example.com/test2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="s2">"2019-06-19T15:10:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="s2">"2019-06-19T15:45:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"disabled_at"</span><span class="p">:</span><span class="s2">"2019-06-19T15:45:47Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_failure"</span><span class="p">:</span><span class="s2">"2019-06-19T15:45:01Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
  </div>
  <div class="dark-box">
  </div>
</div>
<script>
  $(document).ready(function(){
    var defaultOptions = {
      "title": "ControlShift Labs Example",
      "editors": "101",
      "html": "Oops.  There has been an error.",
      "js": "",
      "css_external": "https://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css",
      "js_external": "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
    }

    $.each($('.js-codepen-data'), function(index, codePenHTML){
      $codePenDomObject = $(codePenHTML);
      var dataOptions = jQuery.extend({}, defaultOptions);
      dataOptions = jQuery.extend(dataOptions, $codePenDomObject.data());
      dataOptions.html = '  <div class="container">';
      dataOptions.html += $codePenDomObject.find('.codepen-html').html();
      dataOptions.html += '</div>';
      dataOptions.js = $codePenDomObject.find('.codepen-js').html();
      $codePenDomObject.next().removeClass('hidden').find('.js-data').val(JSON.stringify(dataOptions));
    });
  });
</script>
</body>
</html>
